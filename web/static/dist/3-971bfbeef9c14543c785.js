(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{JAaQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=v(n("qQN1")),l=v(n("BN+v")),o=v(n("a9AW")),i=v(n("XFBU")),d=v(n("OqER")),s=v(n("pRfh")),u=v(n("lfk1")),c=v(n("clYf")),A=v(n("G+8T")),f=v(n("p02J")),p=v(n("cLmd")),B=v(n("dAt5")),g=v(n("Fo7F"));n("MkGM"),n("Mwro"),n("PAcw"),n("zIBL"),n("WXw/"),n("UotH");var m=v(n("cDcd")),h=n("8LOv"),E=v(n("l7WU")),w=v(n("p/zi")),k=v(n("OxVU"));function v(e){return e&&e.__esModule?e:{default:e}}var b={title:"注册并绑定",btnTitle:"注册并绑定",registerTitle:"已有账号？前往直接绑定"},C={title:"注册",btnTitle:"注册",registerTitle:"已有账号？直接登录"},x=(0,n("rRcN").contextConsumers)(function(e){return{token:e.token}})(a=function(e){function t(e){var n=this;(0,f.default)(this,t);var a=(0,B.default)(this,(t.__proto__||(0,A.default)(t)).call(this,e));return a.handleSubmit=(0,c.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.data,a.setState({loading:!0}),e.next=4,Apicloud.post("user/login",t);case 4:(r=e.sent).success?(localStorage.token=r.data.id,localStorage.userId=r.data.userId,a.getUserInfo()):(a.setState({loading:!1}),u.default.info("登录失败"),localStorage.removeItem("token"),localStorage.removeItem("userId"));case 6:case"end":return e.stop()}},e,n)})),a.state={data:{username:"",password:""},loading:!1},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"handleChange",value:function(e,t){var n=this.state.data;n[e]=t,this.setState({data:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.token,a=t.location;if(n)return m.default.createElement(h.Redirect,{to:a.state||"/"});var s=this.state,u=s.data,c=s.loading,A=C;return isweixin&&(A=b),m.default.createElement(w.default,{title:A.title},m.default.createElement(E.default,null,m.default.createElement(i.default,{renderHeader:function(){return"用户注册"}},m.default.createElement(d.default,{placeholder:"请输入用户名",value:u.username,onChange:function(t){return e.handleChange("username",t)}}),m.default.createElement(d.default,{type:"password",placeholder:"请输入密码",value:u.password,onChange:function(t){return e.handleChange("password",t)}})),m.default.createElement(o.default,null),m.default.createElement(o.default,null),m.default.createElement(r.default,null,m.default.createElement(l.default,{type:"primary",onClick:this.handleSubmit,loading:c},A.btnTitle),m.default.createElement(h.Link,{to:AppConfig.baseRouterUrl+"login",className:k.default.link},A.registerTitle))))}}]),t}(m.default.Component))||a;t.default=x},OxVU:function(e,t,n){var a=n("yKH6");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},yKH6:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Register_link_2UhI_ {\n  text-align: center;\n  display: block;\n  margin: 0.2rem 0;\n  outline: 0 none;\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  padding: 0;\n  text-align: center;\n  font-size: 0.18rem;\n  height: 0.47rem;\n  line-height: 0.47rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  white-space: nowrap;\n  color: #000;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0.05rem; }\n  .Register_link_2UhI_:active {\n    background: #ddd; }\n","",{version:3,sources:["E:/www/51智慧医疗/src/pages/Register/Register.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,yBAAyB;EACzB,uBAAuB;EACvB,WAAW;EACX,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,qBAAqB;EACrB,iBAAiB;EACjB,wBAAwB;EACxB,uBAAuB;EACvB,oBAAoB;EACpB,YAAY;EACZ,uBAAuB;EACvB,uBAAuB;EACvB,uBAAuB,EAAE;EACzB;IACE,iBAAiB,EAAE",file:"Register.scss",sourcesContent:[".link {\n  text-align: center;\n  display: block;\n  margin: 0.2rem 0;\n  outline: 0 none;\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  padding: 0;\n  text-align: center;\n  font-size: 0.18rem;\n  height: 0.47rem;\n  line-height: 0.47rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  white-space: nowrap;\n  color: #000;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0.05rem; }\n  .link:active {\n    background: #ddd; }\n"],sourceRoot:""}]),t.locals={link:"Register_link_2UhI_"}}}]);
//# sourceMappingURL=3-971bfbeef9c14543c785.js.map