(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"3JB/":function(e,t,n){var a=n("LFDX");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},LFDX:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".login_link_16Xq_ {\n  text-align: center;\n  display: block;\n  margin: 0.2rem 0;\n  outline: 0 none;\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  padding: 0;\n  text-align: center;\n  font-size: 0.18rem;\n  height: 0.47rem;\n  line-height: 0.47rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  white-space: nowrap;\n  color: #000;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0.05rem; }\n  .login_link_16Xq_:active {\n    background: #ddd; }\n","",{version:3,sources:["E:/www/51智慧医疗/src/pages/Login/login.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,yBAAyB;EACzB,uBAAuB;EACvB,WAAW;EACX,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,qBAAqB;EACrB,iBAAiB;EACjB,wBAAwB;EACxB,uBAAuB;EACvB,oBAAoB;EACpB,YAAY;EACZ,uBAAuB;EACvB,uBAAuB;EACvB,uBAAuB,EAAE;EACzB;IACE,iBAAiB,EAAE",file:"login.scss",sourcesContent:[".link {\n  text-align: center;\n  display: block;\n  margin: 0.2rem 0;\n  outline: 0 none;\n  -webkit-appearance: none;\n  box-sizing: border-box;\n  padding: 0;\n  text-align: center;\n  font-size: 0.18rem;\n  height: 0.47rem;\n  line-height: 0.47rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  white-space: nowrap;\n  color: #000;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0.05rem; }\n  .link:active {\n    background: #ddd; }\n"],sourceRoot:""}]),t.locals={link:"login_link_16Xq_"}},O3NY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=b(n("qQN1")),o=b(n("BN+v")),l=b(n("a9AW")),i=b(n("XFBU")),d=b(n("OqER")),s=b(n("pRfh")),u=b(n("lfk1")),c=b(n("clYf")),f=b(n("G+8T")),A=b(n("p02J")),p=b(n("cLmd")),B=b(n("dAt5")),g=b(n("Fo7F"));n("MkGM"),n("Mwro"),n("PAcw"),n("zIBL"),n("WXw/"),n("UotH");var h=b(n("cDcd")),m=n("8LOv"),E=b(n("3zRo")),k=b(n("l7WU")),w=b(n("p/zi")),v=(b(n("3bLL")),b(n("3JB/")));function b(e){return e&&e.__esModule?e:{default:e}}var C={title:"登录并绑定",btnTitle:"登录并绑定",registerTitle:"没有账号？前往注册并绑定"},x={title:"登录",btnTitle:"登录",registerTitle:"没有账号？前往注册"},_=(0,n("rRcN").contextConsumers)(function(e){return{token:e.token}})(a=function(e){function t(e){var n=this;(0,A.default)(this,t);var a=(0,B.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleSubmit=(0,c.default)(s.default.mark(function e(){var t,r,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.data,a.setState({loading:!0}),r={phone:t.phone,password:(0,E.default)(t.password).toString().toUpperCase()},e.next=5,Request.post("user/login",r);case 5:o=e.sent,console.log(o),o.success?(localStorage.token=o.data.token,localStorage.userId=o.data.user.id,a.setState({loading:!1}),a.props.dispatch.set({token:o.data.token,user:o.data.user})):(a.setState({loading:!1}),u.default.info("登录失败"),localStorage.removeItem("token"),localStorage.removeItem("userId"));case 8:case"end":return e.stop()}},e,n)})),a.state={data:{phone:"18672035432",password:"123456"},loading:!1},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"handleChange",value:function(e,t){var n=this.state.data;n[e]=t,this.setState({data:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.token,a=t.location;if(n)return h.default.createElement(m.Redirect,{to:a.state||"/"});var s=this.state,u=s.data,c=s.loading,f=x;return isweixin&&(f=C),h.default.createElement(w.default,{title:f.title},h.default.createElement(k.default,null,h.default.createElement(i.default,{renderHeader:function(){return"用户登录"}},h.default.createElement(d.default,{placeholder:"请输入用户名",value:u.phone,onChange:function(t){return e.handleChange("phone",t)}}),h.default.createElement(d.default,{type:"password",placeholder:"请输入密码",value:u.password,onChange:function(t){return e.handleChange("password",t)}})),h.default.createElement(l.default,null),h.default.createElement(l.default,null),h.default.createElement(r.default,null,h.default.createElement(o.default,{type:"primary",onClick:this.handleSubmit,loading:c,disabled:c},f.btnTitle),h.default.createElement(m.Link,{to:AppConfig.baseRouterUrl+"register",className:v.default.link},f.registerTitle))))}}]),t}(h.default.Component))||a;t.default=_}}]);
//# sourceMappingURL=4-c8d3e5c6b5b10cd9ddad.js.map