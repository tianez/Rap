{"version":3,"sources":["webpack:///8-5d09816e30f5d0b9a34f.js","webpack:///./src/Libs/Extended/LazyImg/LazyImg.jsx"],"names":["webpackJsonp","225","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","LazyImg","_Component","props","this","_this","__proto__","call","updatePosition","_this$ele$getBounding","ele","getBoundingClientRect","top","height","_this$props","_vpt","_vph","_fwb","setState","showImage","state","key","nextProps","nextState","prevProps","_this2","_props","src","loader","className","style","alt","img","createElement","ref","Component","defaultProps"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,YA+BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA5BvFG,OAAOC,eAAeP,EAAS,cAC3BQ,UAGJ,IAAIC,GAAkBR,EAAoB,IAEtCS,EAAmBR,EAAuBO,GAE1CE,EAAmBV,EAAoB,IAEvCW,EAAmBV,EAAuBS,GAE1CE,EAAgBZ,EAAoB,IAEpCa,EAAgBZ,EAAuBW,GAEvCE,EAA8Bd,EAAoB,IAElDe,EAA8Bd,EAAuBa,GAErDE,EAAahB,EAAoB,IAEjCiB,EAAahB,EAAuBe,GC1BxCE,EAAAlB,EAAA,GD8BImB,EAAUlB,EAAuBiB,GC5B/BE,EDgCQ,SAAUC,GC3BpB,QAAAD,GAAYE,MAAOX,EAAAP,SAAAmB,KAAAH,EAAA,IAAAI,MAAAT,EAAAX,SAAAmB,MAAAH,EAAAK,cAAAhB,EAAAL,SAAAgB,IAAAM,KAAAH,KACTD,GADS,OAAAE,GAmBnBG,eAAiB,WAAM,GAAAC,GACGJ,EAAKK,IAAIC,wBAAzBC,EADaH,EACbG,IAAKC,EADQJ,EACRI,OADQC,EAEQT,EAAKF,MAA1BY,EAFaD,EAEbC,KAAMC,EAFOF,EAEPE,KAAMC,EAFCH,EAEDG,IACdF,IAASH,EAAMC,GAAWD,GAAQG,EAAOC,EAAOC,GAChDZ,EAAKa,UACDC,gBAtBRd,EAAKe,OACDD,cAHWd,ED+FnB,SAnEIP,EAAWb,SAASgB,EAASC,MA8B7BR,EAAcT,SAASgB,IACvBoB,IAAK,oBACLjC,MAAO,YCrDFgB,KAAKgB,MAAMD,WAAaf,KAAKD,MAAMc,MACpCb,KAAKI,oBD0DTa,IAAK,wBACLjC,MAAO,SCxDWkC,EAAWC,GAC7B,OAAQnB,KAAKgB,MAAMD,aD2DnBE,IAAK,qBACLjC,MAAO,SC1DQoC,IACVpB,KAAKgB,MAAMD,WAAaK,EAAUP,MACnCb,KAAKI,oBD8DTa,IAAK,SACLjC,MAAO,WCnDF,GAAAqC,GAAArB,KAAAsB,EACwCtB,KAAKD,MAA5CwB,EADDD,EACCC,IAAKC,EADNF,EACME,OAAQC,EADdH,EACcG,UAAWC,EADzBJ,EACyBI,MAAOC,EADhCL,EACgCK,IACjCC,EAAM5B,KAAKgB,MAAMD,UAAYQ,EAAMC,CACvC,OACI5B,GAAAf,QAAAgD,cAAA,OAAKC,IAAK,SAAAxB,GAAA,MAAOe,GAAKf,IAAMA,GAAKiB,IAAKK,EAAKH,UAAWA,EAAWC,MAAOA,EAAOC,IAAKA,QD+DrF9B,GACTF,EAAOoC,UCrGHlC,GACKmC,cACHnB,KAAM,GACNW,OAAQ,iCD0GhBhD,EAAQK,QCnEOgB","file":"8-5d09816e30f5d0b9a34f.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 225:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(11);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(12);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(13);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(14);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(15);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LazyImg = function (_Component) {\n    (0, _inherits3.default)(LazyImg, _Component);\n\n    function LazyImg(props) {\n        (0, _classCallCheck3.default)(this, LazyImg);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (LazyImg.__proto__ || (0, _getPrototypeOf2.default)(LazyImg)).call(this, props));\n\n        _this.updatePosition = function () {\n            var _this$ele$getBounding = _this.ele.getBoundingClientRect(),\n                top = _this$ele$getBounding.top,\n                height = _this$ele$getBounding.height;\n\n            var _this$props = _this.props,\n                _vpt = _this$props._vpt,\n                _vph = _this$props._vph,\n                _fwb = _this$props._fwb;\n\n            if (_vpt <= top + height && top <= _vpt + _vph + _fwb) {\n                _this.setState({\n                    showImage: true\n                });\n            }\n        };\n\n        _this.state = {\n            showImage: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(LazyImg, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (!this.state.showImage && this.props._fwb) {\n                this.updatePosition();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return !this.state.showImage;\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            if (!this.state.showImage && prevProps._fwb) {\n                this.updatePosition();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                src = _props.src,\n                loader = _props.loader,\n                className = _props.className,\n                style = _props.style,\n                alt = _props.alt;\n\n            var img = this.state.showImage ? src : loader;\n            return _react2.default.createElement('img', { ref: function ref(ele) {\n                    return _this2.ele = ele;\n                }, src: img, className: className, style: style, alt: alt });\n        }\n    }]);\n    return LazyImg;\n}(_react.Component); /**\r\n                      * 图片懒加载子组件\r\n                      */\n\nLazyImg.defaultProps = {\n    _fwb: 50, //距离底部多少距离开始加载图片\n    loader: 'http://placekitten.com/120/80' //未加载图片时显示的默认图片\n};\nexports.default = LazyImg;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8-5d09816e30f5d0b9a34f.js","/**\r\n * 图片懒加载子组件\r\n */\r\n\r\nimport React, { Component } from 'react'\r\n\r\nclass LazyImg extends Component {\r\n    static defaultProps = {\r\n        _fwb: 50, //距离底部多少距离开始加载图片\r\n        loader: 'http://placekitten.com/120/80', //未加载图片时显示的默认图片\r\n    }\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            showImage: false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.showImage && this.props._fwb) {\r\n            this.updatePosition();\r\n        }\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return !this.state.showImage\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (!this.state.showImage && prevProps._fwb) {\r\n            this.updatePosition();\r\n        }\r\n    }\r\n    updatePosition = () => {\r\n        let { top, height } = this.ele.getBoundingClientRect();\r\n        let { _vpt, _vph, _fwb } = this.props\r\n        if (_vpt <= (top + height) && top <= (_vpt + _vph + _fwb)) {\r\n            this.setState({\r\n                showImage: true\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let { src, loader, className, style, alt } = this.props\r\n        let img = this.state.showImage ? src : loader\r\n        return (\r\n            <img ref={ele => this.ele = ele} src={img} className={className} style={style} alt={alt} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default LazyImg\n\n\n// WEBPACK FOOTER //\n// ./src/Libs/Extended/LazyImg/LazyImg.jsx"],"sourceRoot":""}