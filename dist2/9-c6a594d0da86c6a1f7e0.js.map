{"version":3,"sources":["webpack:///./src/pages/Video/Video.jsx","webpack:///./src/pages/Video/Video.scss","webpack:///./src/pages/Video/Video.scss?2f89"],"names":["_react","__webpack_require__","c","v","s","u","f","E","p","e","__esModule","default","_list2","Item","Video","state","fullscreen","videoHeight","o","initVideo","_this","videoPlayer","addEventListener","width","window","screen","_this$videoPlayer","videoWidth","vHeight","setState","userAgents","isweixin","handleFullScreen","style","height","this","_this2","_state","navBarCls","videoCls","_Video2","video","tmStyle","contentStyle","navBar","fullscreenvideo","top","position","console","log","_react2","createElement","_LayoutView2","_navBar2","className","mode","icon","_LeftIcon2","controls","ref","playsInline","airplay","x5-video-player-type","x5-video-player-fullscreen","x5-video-orientation","preload","src","tm","tm1","tm2","_ContentView2","content","n","Component","exports","module","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","locals","Va6h","t","hmr","transform","insertInto"],"mappings":"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","file":"9-c6a594d0da86c6a1f7e0.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { List, NavBar, WhiteSpace } from \"antd-mobile\";\r\nconst Item = List.Item;\r\nimport LayoutView from \"Views/Layout/LayoutView\";\r\nimport ContentView from \"Views/Layout/ContentView\";\r\nimport LeftIcon from \"Components/Layout/LeftIcon\";\r\n\r\nimport styles from \"./Video.scss\";\r\nexport default class Video extends Component {\r\n    state = {\r\n        fullscreen: false,\r\n        videoHeight: 0\r\n    };\r\n    componentDidMount() {\r\n        this.initVideo();\r\n    }\r\n    initVideo = () => {\r\n        // window.onresize = () => {\r\n        //     // alert(window.innerHeight);\r\n        //     this.videoPlayer.style.height = window.innerHeight + \"px\";\r\n        //     // this.videoPlayer.style.height = \"680px\";\r\n        // };\r\n        // this.videoPlayer.addEventListener(\"play\", this.handleFullScreen(true), false);\r\n        this.videoPlayer.addEventListener(\"loadedmetadata\", () => {\r\n            let { width } = window.screen;\r\n            let { videoWidth, videoHeight } = this.videoPlayer;\r\n            let vHeight = (width * videoHeight) / videoWidth;\r\n            this.setState({\r\n                videoWidth: width,\r\n                videoHeight: vHeight\r\n            });\r\n        });\r\n        if (!userAgents.isweixin) {\r\n            return;\r\n        }\r\n        this.videoPlayer.addEventListener(\r\n            \"play\",\r\n            () => {\r\n                this.handleFullScreen(true);\r\n                this.videoPlayer.style.height = window.screen.height + \"px\";\r\n            },\r\n            false\r\n        );\r\n        this.videoPlayer.addEventListener(\r\n            \"pause\",\r\n            () => {\r\n                // let { videoHeight } = this.state;\r\n                // this.videoPlayer.style.height = videoHeight + \"px\";\r\n                this.handleFullScreen(false);\r\n                this.videoPlayer.style.height = \"auto\";\r\n            },\r\n            false\r\n        );\r\n    };\r\n    handleFullScreen = fullscreen => {\r\n        this.setState({\r\n            fullscreen\r\n        });\r\n    };\r\n    render() {\r\n        let { fullscreen, videoHeight } = this.state;\r\n        let navBarCls = \"\";\r\n        let videoCls = styles.video;\r\n        let tmStyle = {};\r\n        let contentStyle = {};\r\n        if (fullscreen) {\r\n            navBarCls = styles.navBar;\r\n            videoCls = styles.fullscreenvideo;\r\n            tmStyle.top = 0;\r\n            contentStyle = {\r\n                position: \"absolute\",\r\n                top: videoHeight + \"px\"\r\n            };\r\n        }\r\n        console.log(videoHeight);\r\n\r\n        return (\r\n            <LayoutView>\r\n                <NavBar className={navBarCls} mode=\"light\" icon={<LeftIcon />}>\r\n                    视频播放\r\n                </NavBar>\r\n                <video\r\n                    controls\r\n                    ref={e => (this.videoPlayer = e)}\r\n                    style={{ height: videoHeight ? videoHeight + \"px\" : \"auto\" }}\r\n                    className={videoCls}\r\n                    playsInline=\"true\"\r\n                    airplay=\"allow\"\r\n                    x5-video-player-type=\"h5\"\r\n                    x5-video-player-fullscreen=\"true\"\r\n                    x5-video-orientation=\"portrait\"\r\n                    preload=\"auto\"\r\n                    // autoPlay\r\n                    src={\"public/video/2.mp4\"}\r\n                />\r\n                <div className={styles.tm} style={tmStyle}>\r\n                    <div className={styles.tm1}>12356</div>\r\n                    <div className={styles.tm2}>弹幕222</div>\r\n                </div>\r\n                <ContentView className={styles.content} style={contentStyle}>\r\n                    <div>\r\n                        <div style={{ height: \"500px\" }}>22222222222</div>\r\n                        111111111111111111111111111111111\r\n                    </div>\r\n                </ContentView>\r\n            </LayoutView>\r\n        );\r\n    }\r\n}\r\n","exports = module.exports = require(\"../../../node_modules/.0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".Video_navBar_3-C1g {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  z-index: 0;\\n  display: none; }\\n\\n.Video_video_2X45w,\\n.Video_fullscreenvideo_3VrZp {\\n  position: relative;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  display: block;\\n  width: 100%;\\n  z-index: 9;\\n  background: #000; }\\n\\n.Video_fullscreenvideo_3VrZp {\\n  -o-object-position: right 100% top -8px;\\n     object-position: right 100% top -8px; }\\n\\n.Video_tm_3tvfy {\\n  position: absolute;\\n  top: 0.45rem;\\n  left: 0;\\n  width: 200%;\\n  z-index: 9999;\\n  background: rgba(255, 255, 255, 0.1); }\\n\\n.Video_tm1_2E25k {\\n  position: absolute;\\n  top: 0;\\n  left: 0.3rem;\\n  color: #fff; }\\n\\n.Video_tm2_1r-mj {\\n  position: absolute;\\n  top: 2rem;\\n  left: 3.1rem;\\n  color: #fff; }\\n\\n.Video_content_YaIcT {\\n  position: relative;\\n  background: #f00;\\n  flex: 1;\\n  overflow-y: auto;\\n  z-index: 999;\\n  left: 0;\\n  right: 0;\\n  bottom: 0; }\\n\", \"\", {\"version\":3,\"sources\":[\"E:/www/webpack4/src/pages/Video/Video.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,WAAW;EACX,cAAc,EAAE;;AAElB;;EAEE,mBAAmB;EACnB,uBAAuB;KACpB,oBAAoB;EACvB,eAAe;EACf,YAAY;EACZ,WAAW;EACX,iBAAiB,EAAE;;AAErB;EACE,wCAAwC;KACrC,qCAAqC,EAAE;;AAE5C;EACE,mBAAmB;EACnB,aAAa;EACb,QAAQ;EACR,YAAY;EACZ,cAAc;EACd,qCAAqC,EAAE;;AAEzC;EACE,mBAAmB;EACnB,OAAO;EACP,aAAa;EACb,YAAY,EAAE;;AAEhB;EACE,mBAAmB;EACnB,UAAU;EACV,aAAa;EACb,YAAY,EAAE;;AAEhB;EACE,mBAAmB;EACnB,iBAAiB;EACjB,QAAQ;EACR,iBAAiB;EACjB,aAAa;EACb,QAAQ;EACR,SAAS;EACT,UAAU,EAAE\",\"file\":\"Video.scss\",\"sourcesContent\":[\".navBar {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  z-index: 0;\\n  display: none; }\\n\\n.video,\\n.fullscreenvideo {\\n  position: relative;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  display: block;\\n  width: 100%;\\n  z-index: 9;\\n  background: #000; }\\n\\n.fullscreenvideo {\\n  -o-object-position: right 100% top -8px;\\n     object-position: right 100% top -8px; }\\n\\n.tm {\\n  position: absolute;\\n  top: 0.45rem;\\n  left: 0;\\n  width: 200%;\\n  z-index: 9999;\\n  background: rgba(255, 255, 255, 0.1); }\\n\\n.tm1 {\\n  position: absolute;\\n  top: 0;\\n  left: 0.3rem;\\n  color: #fff; }\\n\\n.tm2 {\\n  position: absolute;\\n  top: 2rem;\\n  left: 3.1rem;\\n  color: #fff; }\\n\\n.content {\\n  position: relative;\\n  background: #f00;\\n  flex: 1;\\n  overflow-y: auto;\\n  z-index: 999;\\n  left: 0;\\n  right: 0;\\n  bottom: 0; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\nexports.locals = {\n\t\"navBar\": \"Video_navBar_3-C1g\",\n\t\"video\": \"Video_video_2X45w\",\n\t\"fullscreenvideo\": \"Video_fullscreenvideo_3VrZp\",\n\t\"tm\": \"Video_tm_3tvfy\",\n\t\"tm1\": \"Video_tm1_2E25k\",\n\t\"tm2\": \"Video_tm2_1r-mj\",\n\t\"content\": \"Video_content_YaIcT\"\n};","\nvar content = require(\"!!../../../node_modules/.0.28.11@css-loader/index.js??ref--5-1!../../../node_modules/.2.1.3@postcss-loader/lib/index.js!../../../node_modules/.6.0.7@sass-loader/lib/loader.js!./Video.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/.0.20.3@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/.0.28.11@css-loader/index.js??ref--5-1!../../../node_modules/.2.1.3@postcss-loader/lib/index.js!../../../node_modules/.6.0.7@sass-loader/lib/loader.js!./Video.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/.0.28.11@css-loader/index.js??ref--5-1!../../../node_modules/.2.1.3@postcss-loader/lib/index.js!../../../node_modules/.6.0.7@sass-loader/lib/loader.js!./Video.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}