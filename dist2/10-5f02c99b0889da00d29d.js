(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+XMT":function(e,t,n){var a,r;void 0===(r="function"==typeof(a=function(e,t){"use strict";var n=5e3,a="callback";function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,l=t.timeout||n,u=t.jsonpCallback||a,s=void 0;return new Promise(function(n,a){var c=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),d=u+"_"+c;window[c]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),s&&clearTimeout(s),i(d),r(c)},o+=-1===o.indexOf("?")?"?":"&";var f=document.createElement("script");f.setAttribute("src",""+o+u+"="+c),t.charset&&f.setAttribute("charset",t.charset),f.id=d,document.getElementsByTagName("head")[0].appendChild(f),s=setTimeout(function(){a(new Error("JSONP request to "+e+" timed out")),r(c),i(d),window[c]=function(){r(c)}},l),f.onerror=function(){a(new Error("JSONP request to "+e+" failed")),r(c),i(d),s&&clearTimeout(s)}})}})?a.apply(t,[t,e]):a)||(e.exports=r)},"47JL":function(e,t,n){var a=n("kIoh");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},FLGI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n("KN1l")),r=h(n("pRfh")),i=h(n("6F6v")),o=h(n("clYf")),l=h(n("G+8T")),u=h(n("p02J")),s=h(n("cLmd")),c=h(n("dAt5")),d=h(n("Fo7F")),f=h(n("cDcd")),m=h(n("+0q/")),p=h(n("3V/B")),A=h(n("dlyW"));function h(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){function n(){var e,t,a,s,d,f=this;(0,u.default)(this,n);for(var h=arguments.length,v=Array(h),g=0;g<h;g++)v[g]=arguments[g];return t=a=(0,c.default)(this,(e=n.__proto__||(0,l.default)(n)).call.apply(e,[this].concat(v))),a.state={loadState:{loading:!1,error:!1,errorMsg:"",isOk:!1}},a.getData=(d=(0,o.default)(r.default.mark(function e(){var t,n,o,l,u,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1],d=s.url,h=s.delaytime,v=void 0===h?0:h,g=s.cachetime,E=void 0===g?E:g,_=(0,i.default)(s,["url","delaytime","cachetime"]);return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.loading){e.next=2;break}return e.abrupt("return");case 2:return a.loading=!0,a.delayStart=Date.now(),a.setState({loadState:{loading:!0,error:!1,errorMsg:"",isOk:!1}}),t="https://api.douban.com/v2/"+d+"?"+m.default.stringify(_.params),n=void 0,e.next=9,db.req.where("req").equalsIgnoreCase(t).last();case 9:if(!(o=e.sent)){e.next=20;break}if(n=o.res,!(l=o.time)||!(Date.now()-l>E)&&n.success){e.next=18;break}return e.next=16,(0,A.default)(t);case 16:n=e.sent,db.req.put({req:t,res:n,time:Date.now()});case 18:e.next=24;break;case 20:return e.next=22,(0,A.default)(t);case 22:n=e.sent,db.req.put({req:t,res:n,time:Date.now()});case 24:if(!((u=a.delayStart+v-Date.now())>0)){e.next=28;break}return e.next=28,(0,p.default)(u);case 28:if(!n.success){e.next=35;break}if(!c){e.next=32;break}return e.next=32,c(n.data);case 32:a.setState({loadState:{loading:!1,error:!1,errorMsg:"",isOk:!0}}),e.next=36;break;case 35:a.setState({loadState:{loading:!1,error:!0,errorMsg:n.message,isOk:!1}});case 36:a.loading=!1;case 37:case"end":return e.stop()}},e,f)})),function(){return d.apply(this,arguments)}),s=t,(0,c.default)(a,s)}return(0,d.default)(n,t),(0,s.default)(n,[{key:"render",value:function(){return f.default.createElement(e,(0,a.default)({},this.props,this.state,{getData:this.getData}))}}]),n}(f.default.Component)}},dlyW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n("pRfh")),r=l(n("18by")),i=l(n("clYf")),o=l(n("+XMT"));function l(e){return e&&e.__esModule?e:{default:e}}var u,s=(u=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new r.default(function(e,n){(0,o.default)(t).then(function(e){return e.json()}).then(function(t){e({success:!0,data:t})}).catch(function(t){e({success:!1,message:t.message})})}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return u.apply(this,arguments)});t.default=s},kIoh:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Detail_title_2z_sV {\n  font-size: 0.22rem;\n  line-height: 0.32rem; }\n\n.Detail_info_3sf1M {\n  display: block;\n  color: #999;\n  font-size: 0.14rem;\n  margin: 0.1rem 0;\n  line-height: 0.24rem; }\n\n.Detail_content_3sWxZ {\n  font-size: 0.16rem;\n  line-height: 0.26rem;\n  text-indent: 2em; }\n  .Detail_content_3sWxZ p,\n  .Detail_content_3sWxZ div {\n    padding: 0.05rem 0;\n    text-indent: 2em; }\n  .Detail_content_3sWxZ img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Movies/Detail.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,qBAAqB,EAAE;;AAEzB;EACE,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB,EAAE;;AAEzB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,iBAAiB,EAAE;EACnB;;IAEE,mBAAmB;IACnB,iBAAiB,EAAE;EACrB;IACE,eAAe;IACf,gBAAgB;IAChB,eAAe,EAAE",file:"Detail.scss",sourcesContent:[".title {\n  font-size: 0.22rem;\n  line-height: 0.32rem; }\n\n.info {\n  display: block;\n  color: #999;\n  font-size: 0.14rem;\n  margin: 0.1rem 0;\n  line-height: 0.24rem; }\n\n.content {\n  font-size: 0.16rem;\n  line-height: 0.26rem;\n  text-indent: 2em; }\n  .content p,\n  .content div {\n    padding: 0.05rem 0;\n    text-indent: 2em; }\n  .content img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto; }\n"],sourceRoot:""}]),t.locals={title:"Detail_title_2z_sV",info:"Detail_info_3sf1M",content:"Detail_content_3sWxZ"}},"p/zi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n("nbCY"));n("ZsLX");var r=u(n("cDcd")),i=u(n("yhP6")),o=u(n("APrv")),l=(u(n("l7WU")),u(n("8RPl")),u(n("kcRE")));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.border,n=void 0===t||t,u=e.title,s=e.children;return r.default.createElement(i.default,null,r.default.createElement(a.default,{mode:"dark",icon:r.default.createElement(o.default,null),className:n&&l.default.header},u),s)}},wBfs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n("KN1l")),i=g(n("pRfh")),o=g(n("clYf")),l=g(n("G+8T")),u=g(n("p02J")),s=g(n("cLmd")),c=g(n("dAt5")),d=g(n("Fo7F")),f=n("cDcd"),m=g(f),p=g(n("p/zi")),A=g(n("l7WU")),h=g(n("kqMm")),v=g(n("47JL"));function g(e){return e&&e.__esModule?e:{default:e}}var E=(0,g(n("FLGI")).default)(a=function(e){function t(){var e,n,a,r,s=this;(0,u.default)(this,t);for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];return n=a=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(f))),a.state={data:null,isCache:!1},a.getData=(0,o.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.match.params.id,a.props.getData({url:"movie/celebrity/"+t},function(){var e=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({data:t});case 1:case"end":return e.stop()}},e,s)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,s)})),r=n,(0,c.default)(a,r)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.loadState,t=this.state.data;return m.default.createElement(p.default,{title:"详情"},m.default.createElement(A.default,{style:{padding:"15px",background:"#fff"}},m.default.createElement(h.default,(0,r.default)({},e,{errorAction:m.default.createElement("div",{onClick:this.getData},"出错了，点击重试！")}),t&&m.default.createElement("div",null,m.default.createElement("div",{className:v.default.title},t.name),m.default.createElement("div",{className:v.default.info},m.default.createElement("div",null,"性别：",t.gender),m.default.createElement("div",null,"英文名：",t.name_en),m.default.createElement("div",null,"出生地：",t.born_place))))))}}]),t}(f.Component))||a;t.default=E}}]);
//# sourceMappingURL=10-5f02c99b0889da00d29d.js.map