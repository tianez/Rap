(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"8+W1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,s=v(n("pRfh")),i=v(n("clYf")),l=v(n("G+8T")),d=v(n("p02J")),c=v(n("cLmd")),u=v(n("dAt5")),m=v(n("Fo7F")),f=n("cDcd"),A=v(f),p=v(n("faye")),h=n("Lrpq"),B=v(n("7l6G")),g=v(n("gJnY")),C=v(n("Mn//")),E=(v(n("8aFf")),v(n("RG7W"))),b=v(n("utdY")),k=v(n("CkzZ")),x=n("rRcN");function v(e){return e&&e.__esModule?e:{default:e}}var _=h.List.Item,y=h.Modal.prompt,w=(0,x.contextConsumers)(function(e){return{deptlist:e.getIn(["deptList",localStorage.organizationId]),orgInfo:e.orgInfo}})((o=a=function(e){function t(e){var n=this;(0,d.default)(this,t);var r,a=(0,u.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.handleLeftClick=function(e){e.stopPropagation(),a.props.onLeftClick()},a.handleShowModal=function(){y("","请输入部门名称",[{text:"取消"},{text:"确定",onPress:a.handleSubmit}],"default",null,["部门名称"])},a.handleSubmit=(r=(0,i.default)(s.default.mark(function e(t){var r,o,i,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.breadcrumbs,o=r.length,i=0==o?0:r.getIn([o-1,"id"]),e.next=5,Request("deptment/insertDeptment",{method:"post",data:{orginfoId:localStorage.organizationId,name:t,parent:i}});case 5:l=e.sent,console.log(l),l.success?(a.props.dispatch.callBack(k.default),h.Toast.info("新增成功")):h.Toast.info(l.message);case 8:case"end":return e.stop()}},e,n)})),function(e){return r.apply(this,arguments)}),a.handleChangeLists=function(e){var t=a.state.breadcrumbs;t=t.concat([e]),a.setState({breadcrumbs:t})},a.handleChangeBreadcrumbs=function(e){var t=a.state.breadcrumbs;t=t.slice(0,e),a.setState({breadcrumbs:t})},a.handleChecked=function(e){a.props.multiple?a.handleMultiplechecked(e):a.handleSingleCompleted(e)},a.handleMultiplechecked=function(e){var t=a.state.selectedKeys;t=-1==t.indexOf(e.id)?t.concat([e.id]):t.filter(function(t){return t!=e.id}),a.setState({selectedKeys:t})},a.handleSingleCompleted=function(e){var t=a.props.onSelected;t&&t(e)},a.handleFilter=function(e,t){var n=t.length,r=0==n?0:t.getIn([n-1,"id"]);return e.filter(function(e){return e.parent==r})},a.state={selectedKeys:$arr.concat(e.selectedKeys),breadcrumbs:$arr},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.dispatch.callBack(k.default)}},{key:"render",value:function(){var e=this.props,t=e.deptlist,n=void 0===t?$arr:t,r=e.multiple,a=e.children,o=this.state,s=o.selectedKeys,i=o.breadcrumbs,l=n.filter(function(e){return s.indexOf(e.id)>-1});return n=this.handleFilter(n,i),p.default.createPortal(A.default.createElement(B.default,null,a&&a(s,l),A.default.createElement(C.default,{onChangeBreadcrumbs:this.handleChangeBreadcrumbs,breadcrumbs:i}),A.default.createElement(g.default,null,A.default.createElement(h.List,{style:{marginTop:"6px"}},A.default.createElement(_,{onClick:this.handleShowModal},A.default.createElement("span",{className:b.default.add},"+"),"新建部门")),A.default.createElement(E.default,{multiple:r,deptlist:n,selectedKeys:s,onClick:this.handleChecked,onChangeLists:this.handleChangeLists}))),document.getElementById("app"))}}]),t}(f.Component),a.defaultProps={multiple:!1,selectedKeys:$arr},r=o))||r;t.default=w},"8aFf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("cDcd")),a=n("Lrpq"),o=s(n("V3YV"));function s(e){return e&&e.__esModule?e:{default:e}}var i=a.List.Item;t.default=function(e){var t=e.selecteditems,n=e.multiple,s=e.onClick;return n?[r.default.createElement(a.List,{key:"list"},r.default.createElement(i,null,t.map(function(e){return r.default.createElement("span",{key:e.get("id"),className:o.default.checkedmenu,onClick:s.bind(null,e)},e.get("name"))}))),r.default.createElement(a.WhiteSpace,{key:"whitespace"})]:null}},E7Wo:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Department_add_3CMvH {\n  background: #1BCC14;\n  width: 0.2rem;\n  height: 0.2rem;\n  line-height: 0.18rem;\n  border-radius: 0.2rem;\n  font-size: 0.18rem;\n  text-align: center;\n  color: #fff;\n  display: inline-block;\n  margin-right: 0.05rem; }\n","",{version:3,sources:["E:/www/webpack4/src/Libs/Components/Department/Department.scss"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB,cAAc;EACd,eAAe;EACf,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;EACnB,mBAAmB;EACnB,YAAY;EACZ,sBAAsB;EACtB,sBAAsB,EAAE",file:"Department.scss",sourcesContent:[".add {\n  background: #1BCC14;\n  width: 0.2rem;\n  height: 0.2rem;\n  line-height: 0.18rem;\n  border-radius: 0.2rem;\n  font-size: 0.18rem;\n  text-align: center;\n  color: #fff;\n  display: inline-block;\n  margin-right: 0.05rem; }\n"],sourceRoot:""}]),t.locals={add:"Department_add_3CMvH"}},RG7W:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("cDcd")),a=n("Lrpq"),o=s(n("ZdWX"));function s(e){return e&&e.__esModule?e:{default:e}}var i=a.List.Item;t.default=function(e){var t=e.deptlist,n=void 0===t?$arr:t,s=e.multiple,d=e.selectedKeys,c=e.onClick,u=e.onChangeLists;return n.length>0?r.default.createElement(a.List,{style:{marginTop:"6px"}},s?n.map(function(e,t){var n=o.default.checkbox;return-1!=d.indexOf(e.id)&&(n=o.default.checked),r.default.createElement(i,{key:e.id,extra:r.default.createElement(l,{list:e,onClick:u})},r.default.createElement("div",{onClick:function(){return c(e)}},r.default.createElement("span",{className:n}),e.name))}):n.map(function(e,t){return r.default.createElement(i,{key:e.id,extra:r.default.createElement(l,{list:e,onClick:u})},r.default.createElement("div",{onClick:function(){return c(e)}},e.name))})):r.default.createElement(a.List,{style:{marginTop:"6px"}},r.default.createElement(i,null,"没有子部门"))};var l=function(e){var t=e.list,n=e.onClick;return r.default.createElement("span",{className:o.default.extra,onClick:function(){return n(t)}},r.default.createElement("i",{className:"iconfont icon-wodexiaji"}),"下级")}},V3YV:function(e,t,n){var r=n("om/R");"string"==typeof r&&(r=[[e.i,r,""]]);n("DkTI")(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},ZdWX:function(e,t,n){var r=n("ngOo");"string"==typeof r&&(r=[[e.i,r,""]]);n("DkTI")(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},ngOo:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,'.DeptList_disabled_1ES2y {\n  background: #f2f2f2; }\n\n.DeptList_checkbox_Hc9G7,\n.DeptList_checked_f5RrI {\n  display: inline-block;\n  position: relative;\n  top: 0.03rem;\n  margin-right: 0.08rem;\n  width: 0.21rem;\n  height: 0.21rem;\n  border: 1px solid #ccc;\n  border-radius: 50%;\n  -webkit-transform: rotate(0deg);\n  transform: rotate(0deg);\n  box-sizing: border-box; }\n\n.DeptList_checked_f5RrI {\n  border-color: #3692fa;\n  background: #3692fa; }\n  .DeptList_checked_f5RrI:after {\n    position: absolute;\n    display: none;\n    top: 0.03rem;\n    right: 0.06rem;\n    z-index: 999;\n    width: 0.05rem;\n    height: 0.11rem;\n    content: " ";\n    -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n    border-style: solid;\n    border-width: 0px 1px 1px 0px;\n    display: block;\n    border-color: white; }\n\n.DeptList_extra_2g7fv {\n  font-size: 0.16rem;\n  border-left: 1px solid #ddd;\n  padding-left: 0.08rem;\n  color: #108ee9; }\n  .DeptList_extra_2g7fv .iconfont {\n    font-size: 0.16rem; }\n',"",{version:3,sources:["E:/www/webpack4/src/Libs/Components/Department/DeptList.scss"],names:[],mappings:"AAAA;EACE,oBAAoB,EAAE;;AAExB;;EAEE,sBAAsB;EACtB,mBAAmB;EACnB,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;EACnB,gCAAgC;EAChC,wBAAwB;EACxB,uBAAuB,EAAE;;AAE3B;EACE,sBAAsB;EACtB,oBAAoB,EAAE;EACtB;IACE,mBAAmB;IACnB,cAAc;IACd,aAAa;IACb,eAAe;IACf,aAAa;IACb,eAAe;IACf,gBAAgB;IAChB,aAAa;IACb,iCAAiC;YACzB,yBAAyB;IACjC,oBAAoB;IACpB,8BAA8B;IAC9B,eAAe;IACf,oBAAoB,EAAE;;AAE1B;EACE,mBAAmB;EACnB,4BAA4B;EAC5B,sBAAsB;EACtB,eAAe,EAAE;EACjB;IACE,mBAAmB,EAAE",file:"DeptList.scss",sourcesContent:['.disabled {\n  background: #f2f2f2; }\n\n.checkbox,\n.checked {\n  display: inline-block;\n  position: relative;\n  top: 0.03rem;\n  margin-right: 0.08rem;\n  width: 0.21rem;\n  height: 0.21rem;\n  border: 1px solid #ccc;\n  border-radius: 50%;\n  -webkit-transform: rotate(0deg);\n  transform: rotate(0deg);\n  box-sizing: border-box; }\n\n.checked {\n  border-color: #3692fa;\n  background: #3692fa; }\n  .checked:after {\n    position: absolute;\n    display: none;\n    top: 0.03rem;\n    right: 0.06rem;\n    z-index: 999;\n    width: 0.05rem;\n    height: 0.11rem;\n    content: " ";\n    -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n    border-style: solid;\n    border-width: 0px 1px 1px 0px;\n    display: block;\n    border-color: white; }\n\n.extra {\n  font-size: 0.16rem;\n  border-left: 1px solid #ddd;\n  padding-left: 0.08rem;\n  color: #108ee9; }\n  .extra :global(.iconfont) {\n    font-size: 0.16rem; }\n'],sourceRoot:""}]),t.locals={disabled:"DeptList_disabled_1ES2y",checkbox:"DeptList_checkbox_Hc9G7",checked:"DeptList_checked_f5RrI",extra:"DeptList_extra_2g7fv"}},"om/R":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".SelectedItems_checkedmenu_12NlT {\n  margin-right: 0.06rem; }\n","",{version:3,sources:["E:/www/webpack4/src/Libs/Components/Department/SelectedItems.scss"],names:[],mappings:"AAAA;EACE,sBAAsB,EAAE",file:"SelectedItems.scss",sourcesContent:[".checkedmenu {\n  margin-right: 0.06rem; }\n"],sourceRoot:""}]),t.locals={checkedmenu:"SelectedItems_checkedmenu_12NlT"}},utdY:function(e,t,n){var r=n("E7Wo");"string"==typeof r&&(r=[[e.i,r,""]]);n("DkTI")(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)}}]);