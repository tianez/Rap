(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2Jj9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"NoDataView__NoData"})(["display:flex;align-items:center;justify-content:center;height:1rem;color:#666;"]);t.default=l},FI4c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"LoadMoreView__LoadMore"})(["text-align:center;line-height:0.44rem;color:#666;"]);t.default=l},Jft9:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".RelatedToMe_Lazy_8D3d7 {\n  display: flex;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  flex-direction: column; }\n\n.RelatedToMe_LazyWarper_33mOu {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow-y: auto;\n  flex: 1; }\n\n.RelatedToMe_Item_30ZrA .am-list-thumb {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n\n.RelatedToMe_noItem_1BFlF {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 1rem;\n  color: #666; }\n\n.RelatedToMe_thumb_3tSEB {\n  width: 0.4rem;\n  height: 0.4rem;\n  background: #108ee9;\n  border-radius: 0.4rem;\n  text-align: center;\n  line-height: 0.4rem;\n  color: #fff;\n  font-size: 0.16rem; }\n\n.RelatedToMe_status_1Wr09 {\n  color: #f00; }\n\n.RelatedToMe_statusAgree_1OThJ {\n  color: green; }\n\n.RelatedToMe_loadmore_o6TB_ {\n  text-align: center;\n  line-height: 0.44rem;\n  color: #666; }\n\n.RelatedToMe_ydbtn_10MA9 {\n  text-align: center;\n  line-height: 0.44rem;\n  height: 0.44rem;\n  min-height: 0.44rem;\n  position: relative;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #fff;\n  font-size: 0.16rem;\n  color: #108ee9; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/RelatedToMe/RelatedToMe.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,mBAAmB;EACnB,aAAa;EACb,YAAY;EACZ,uBAAuB,EAAE;;AAE3B;EACE,aAAa;EACb,YAAY;EACZ,mBAAmB;EACnB,iBAAiB;EACjB,QAAQ,EAAE;;AAEZ;EACE,2BAA2B;EAC3B,qBAAqB,EAAE;;AAEzB;EACE,cAAc;EACd,oBAAoB;EACpB,wBAAwB;EACxB,aAAa;EACb,YAAY,EAAE;;AAEhB;EACE,cAAc;EACd,eAAe;EACf,oBAAoB;EACpB,sBAAsB;EACtB,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;EACZ,mBAAmB,EAAE;;AAEvB;EACE,YAAY,EAAE;;AAEhB;EACE,aAAa,EAAE;;AAEjB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,YAAY,EAAE;;AAEhB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,UAAU;EACV,QAAQ;EACR,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;EACnB,eAAe,EAAE",file:"RelatedToMe.scss",sourcesContent:[".Lazy {\n  display: flex;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  flex-direction: column; }\n\n.LazyWarper {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow-y: auto;\n  flex: 1; }\n\n.Item :global(.am-list-thumb) {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n\n.noItem {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 1rem;\n  color: #666; }\n\n.thumb {\n  width: 0.4rem;\n  height: 0.4rem;\n  background: #108ee9;\n  border-radius: 0.4rem;\n  text-align: center;\n  line-height: 0.4rem;\n  color: #fff;\n  font-size: 0.16rem; }\n\n.status {\n  color: #f00; }\n\n.statusAgree {\n  color: green; }\n\n.loadmore {\n  text-align: center;\n  line-height: 0.44rem;\n  color: #666; }\n\n.ydbtn {\n  text-align: center;\n  line-height: 0.44rem;\n  height: 0.44rem;\n  min-height: 0.44rem;\n  position: relative;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #fff;\n  font-size: 0.16rem;\n  color: #108ee9; }\n"],sourceRoot:""}]),t.locals={Lazy:"RelatedToMe_Lazy_8D3d7",LazyWarper:"RelatedToMe_LazyWarper_33mOu",Item:"RelatedToMe_Item_30ZrA",noItem:"RelatedToMe_noItem_1BFlF",thumb:"RelatedToMe_thumb_3tSEB",status:"RelatedToMe_status_1Wr09",statusAgree:"RelatedToMe_statusAgree_1OThJ",loadmore:"RelatedToMe_loadmore_o6TB_",ydbtn:"RelatedToMe_ydbtn_10MA9"}},NbhV:function(e,t,n){e.exports=n("AOTY")(57)},NqOv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,r,i,u,s=x(n("pRfh")),d=x(n("clYf")),c=x(n("G+8T")),h=x(n("p02J")),f=x(n("cLmd")),A=x(n("dAt5")),p=x(n("Fo7F")),m=n("cDcd"),g=x(m),E=n("Lrpq"),v=x(n("7l6G")),_=x(n("gJnY")),B=x(n("APrv")),C=(x(n("SU3N")),x(n("FI4c"))),y=x(n("2Jj9")),b=x(n("fp/F")),T=x(n("V61l")),M=x(n("sSWE")),w=n("rRcN");function x(e){return e&&e.__esModule?e:{default:e}}var R=E.List.Item,Y=R.Brief,N=(0,w.contextConsumers)(function(e){return{initialPage:e.getIn(["init","initialPageOriginate"])}})((o=l=function(e){function t(){var e,n,a,l;(0,h.default)(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=(0,A.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(r))),a.state={counts:{}},a.handleChange=function(e,t){a.props.dispatch.setIn(["init","initialPageOriginate"],t)},a.handleCount=function(e,t){var n=a.state.counts;n[e]=t,a.setState({counts:n})},a.handleClick=function(e){var t=a.props.history,n=1*e.type;1==n?t.push("/notice/approved/"+e.businessId):2==n&&t.push("/approved/detail/"+e.businessId)},l=n,(0,A.default)(a,l)}return(0,p.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props.initialPage,n=this.state.counts,a=[{title:g.default.createElement(E.Badge,{text:n[0]},"待我审批"),sub:"0"},{title:"我已审批",sub:"1"}];return g.default.createElement(v.default,null,g.default.createElement(E.NavBar,{mode:"light",icon:g.default.createElement(B.default,null)},"我的审批"),g.default.createElement(_.default,{className:M.default.content},g.default.createElement(E.Tabs,{tabs:a,initialPage:t,onChange:this.handleChange},a&&a.map(function(n,a){return g.default.createElement(k,{key:a,index:a,cur:t,onClick:e.handleClick,onCount:e.handleCount})}))))}}]),t}(m.Component),l.defaultProps={initialPage:0},a=o))||a;t.default=N;var k=(i=r=function(e){function t(e){(0,h.default)(this,t);var n=(0,A.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return u.call(n),n.state={data:[],loading:!0,page:1,hasNext:!0},n.loading=!1,n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.handleinitReq(this.props,!0)}},{key:"componentDidUpdate",value:function(){this.handleinitReq(this.props)}},{key:"render",value:function(){var e=this,t=this.props.onClick,n=this.state,a=n.data,l=n.hasNext,o=n.loading;return g.default.createElement(b.default,{onScroll:this.handleScroll},g.default.createElement(E.List,null,a.length>0?a.map(function(e){var n=e.ccUserName||e.userName;return g.default.createElement(R,{key:e.businessId,arrow:"horizontal",className:M.default.Item,thumb:g.default.createElement(T.default,null,n.slice(0,1)),multipleLine:!0,onClick:t.bind(null,e)},g.default.createElement("div",null,n+"的"+e.applyTitle),g.default.createElement(Y,null,g.default.createElement("div",null,"发起时间：",e.applyTime),g.default.createElement("div",{className:M.default.status},e.applyStateName)))}):g.default.createElement(R,null,g.default.createElement(y.default,null,"暂无数据"))),g.default.createElement("div",{ref:function(t){return e.load=t}}),l?!o&&g.default.createElement(C.default,{onClick:this.handleReq},"更多数据加载中..."):a.length>0&&g.default.createElement(C.default,null,"没有更多数据了"))}}]),t}(m.Component),r.defaultProps={pageSize:10},u=function(){var e,t=this;this.handleinitReq=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.cur;(e.index==a||n)&&t.handleReq(0,[],!0)},this.handleScroll=function(e){t.load.getBoundingClientRect().top<window.screen.height+100&&t.handleReq()},this.handleReq=(e=(0,d.default)(s.default.mark(function e(){var n,a,l,o,r,i,u,d,c,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.page,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.data,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.state.hasNext;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:if(p){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,n=t.props,a=n.index,l=n.pageSize,o=n.onCount,f+=1,r={uid:localStorage.userId,pageNo:f,pageSize:l},i=void 0,0==a?i="approve/todoList":1==a&&(i="approve/doneList"),e.next=12,Request(i,{params:r});case 12:(u=e.sent).success&&(d=u.data.page,c=d.list,h=d.count,A=A.concat(c),t.setState({data:A,page:f,loading:!1,count:h,hasNext:c.length>0&&c.length>l-1}),o&&o(a,h)),t.loading=!1;case 15:case"end":return e.stop()}},e,t)})),function(){return e.apply(this,arguments)})},i)},SU3N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=(a=n("cDcd"))&&a.__esModule?a:{default:a};t.default=function(e){var t=e.time,n=new Date(parseInt(t)),a=n.getFullYear()+"-",o=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",r=n.getDate()+" ",i=n.getHours();i=i<10?"0"+i:i;var u=n.getMinutes();u=u<10?"0"+u:u;var s=n.getSeconds(),d=a+o+r+i+":"+u+":"+(s=s<10?"0"+s:s);return l.default.createElement("span",null,d)}},V61l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"ThumbView"})(["width:0.4rem;height:0.4rem;background:#108ee9;border-radius:0.4rem;text-align:center;line-height:0.4rem;color:#fff;font-size:0.16rem;"]);t.default=l},"fp/F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("NbhV")),l=o(n("jpiG"));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,a.default)(l.default).withConfig({displayName:"LazyWarperView"})(["height:100%;width:100%;position:relative;overflow-y:auto;flex:1;"]);t.default=r},jpiG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l,o=h(n("G+8T")),r=h(n("p02J")),i=h(n("cLmd")),u=h(n("dAt5")),s=h(n("Fo7F")),d=n("cDcd"),c=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var f=(l=a=function(e){function t(e){(0,r.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleScroll=function(){var e=new Date;if(!(n.startTime&&e-n.startTime<n.props.delaytime)){n.startTime=e;var t={scrollTop:n.lazyWarper.scrollTop,warperHeight:n.lazyWarper.getBoundingClientRect().height};n.props.onScroll&&n.props.onScroll(t)}},n.handleTouchStart=function(e){var t=e.touches[0]||e;n._startX=t.pageX,n._startY=t.pageY},n.handleTouchMove=function(e){var t=e.touches[0]||e,a=t.pageX-n._startX,l=t.pageY-n._startY;0==n.moveXY&&(Math.abs(a)>Math.abs(l)?n.moveXY=1:n.moveXY=2),1==n.moveXY?n.lazyWarper.style.overflowY="hidden":e.stopPropagation()},n.handleTouchEnd=function(e){n.lazyWarper.style.overflowY="auto",n.moveXY=0},n.startTime=null,n.moveXY=0,n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.scrollTop&&(this.lazyWarper.scrollTop=this.props.scrollTop,this.handleScroll())}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{ref:function(t){return e.lazyWarper=t},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onScroll:this.handleScroll,style:this.props.style,className:this.props.className},this.props.children)}}]),t}(d.Component),a.defaultProps={delaytime:20,scrollTop:0},l);t.default=f},sSWE:function(e,t,n){var a=n("Jft9");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)}}]);