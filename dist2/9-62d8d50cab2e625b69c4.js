(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"47JL":function(e,t,n){var a=n("kIoh");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},"6G0w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l=_(n("KN1l")),i=_(n("pRfh")),u=_(n("clYf")),s=_(n("G+8T")),o=_(n("p02J")),d=_(n("cLmd")),c=_(n("dAt5")),f=_(n("Fo7F")),m=n("cDcd"),p=_(m),A=(_(n("ntpP")),_(n("l7WU"))),g=_(n("p/zi")),v=_(n("kqMm")),h=_(n("47JL")),E=_(n("FLGI"));function _(e){return e&&e.__esModule?e:{default:e}}var k=(a=(0,n("rRcN").contextConsumers)(function(e){return{onLine:e.onLine}}),(0,E.default)(r=a(r=function(e){function t(){var e,n,a,r,l=this;(0,o.default)(this,t);for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];return n=a=(0,c.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(f))),a.state={data:null,isCache:!1},a.getData=(0,u.default)(i.default.mark(function e(){var t,n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=a.props).onLine,n=t.match,r=n.params.id,a.props.getData({url:"movie/subject/"+r},function(){var e=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({data:t});case 1:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,l)})),r=n,(0,c.default)(a,r)}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.loadState,t=this.state,n=t.data,a=t.isCache;return console.log(n),p.default.createElement(g.default,{title:"详情"},p.default.createElement(A.default,{style:{padding:"15px",background:"#fff"}},p.default.createElement(v.default,(0,l.default)({},e,{reflush:a,errorAction:p.default.createElement("div",{onClick:this.getData},"出错了，点击重试！")}),n&&p.default.createElement("div",null,p.default.createElement("div",{className:h.default.title},n.title+" "+n.original_title,"（",n.year,"）"),p.default.createElement("div",{className:h.default.info},p.default.createElement("div",null,"导演：",n.directors.map(function(e){return e.name+"，"})),n.writers&&p.default.createElement("div",null,"编剧：",n.writers.map(function(e){return e.name+"，"})),p.default.createElement("div",null,"主演：",n.casts.map(function(e){return e.name+"，"})),p.default.createElement("div",null,"类型：",n.genres.map(function(e){return e+"，"})),p.default.createElement("div",null,"制片国家/地区：",n.countries.map(function(e){return e+"，"})),p.default.createElement("div",null,"别名：",n.aka.map(function(e){return e+"，"})),p.default.createElement("div",null,"评分：",n.rating.average),p.default.createElement("div",null,"评分人数：",n.ratings_count),p.default.createElement("div",null,"想看人数：",n.wish_count),p.default.createElement("div",null,"看过人数：",n.collect_count)),p.default.createElement("div",{className:h.default.content},p.default.createElement("div",null,n.images&&p.default.createElement("img",{src:n.images.large,alt:""})),p.default.createElement("div",{dangerouslySetInnerHTML:{__html:n.summary}}))))))}}]),t}(m.Component))||r)||r);t.default=k},FLGI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=g(n("pRfh")),r=g(n("KN1l")),l=g(n("6F6v")),i=g(n("clYf")),u=g(n("G+8T")),s=g(n("p02J")),o=g(n("cLmd")),d=g(n("dAt5")),c=g(n("Fo7F")),f=g(n("cDcd")),m=g(n("+0q/")),p=g(n("VNe4")),A=g(n("3V/B"));function g(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){function n(){var e,t,o,c,f,g=this;(0,s.default)(this,n);for(var v=arguments.length,h=Array(v),E=0;E<v;E++)h[E]=arguments[E];return t=o=(0,d.default)(this,(e=n.__proto__||(0,u.default)(n)).call.apply(e,[this].concat(h))),o.state={loadState:{loading:!1,error:!1,errorMsg:"",isOk:!1}},o.getData=(f=(0,i.default)(a.default.mark(function e(){var t,n,i,u,s,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1],f=d.url,v=d.delaytime,h=void 0===v?0:v,E=d.cachetime,_=void 0===E?_:E,k=(0,l.default)(d,["url","delaytime","cachetime"]);return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.loading){e.next=2;break}return e.abrupt("return");case 2:return o.loading=!0,o.delayStart=Date.now(),o.setState({loadState:{loading:!0,error:!1,errorMsg:"",isOk:!1}}),t=f+m.default.stringify(k.params),n=void 0,e.next=9,db.req.where("req").equalsIgnoreCase(t).last();case 9:if(!(i=e.sent)){e.next=20;break}if(n=i.res,!(u=i.time)||!(Date.now()-u>_)&&n.success){e.next=18;break}return e.next=16,(0,p.default)((0,r.default)({url:f},k));case 16:n=e.sent,db.req.put({req:t,res:n,time:Date.now()});case 18:e.next=24;break;case 20:return e.next=22,(0,p.default)((0,r.default)({url:f},k));case 22:n=e.sent,db.req.put({req:t,res:n,time:Date.now()});case 24:if(!((s=o.delayStart+h-Date.now())>0)){e.next=28;break}return e.next=28,(0,A.default)(s);case 28:if(!n.success){e.next=35;break}if(!c){e.next=32;break}return e.next=32,c(n.data);case 32:o.setState({loadState:{loading:!1,error:!1,errorMsg:"",isOk:!0}}),e.next=36;break;case 35:o.setState({loadState:{loading:!1,error:!0,errorMsg:n.message,isOk:!1}});case 36:o.loading=!1;case 37:case"end":return e.stop()}},e,g)})),function(){return f.apply(this,arguments)}),c=t,(0,d.default)(o,c)}return(0,c.default)(n,t),(0,o.default)(n,[{key:"render",value:function(){return f.default.createElement(e,(0,r.default)({},this.props,this.state,{getData:this.getData}))}}]),n}(f.default.Component)}},VNe4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n("heMk")),r=l(n("KN1l"));function l(e){return e&&e.__esModule?e:{default:e}}var i=l(n("zr5I")).default.create({baseURL:AppConfig.doubanUrl,timeout:5e3,dataType:"json"});i.interceptors.response.use(function(e){return{success:!0,data:e.data}},function(e){var t,n={};if(e.response){var l=e.response,i="object"!=(void 0===(t=l.data)?"undefined":(0,a.default)(t))||"[object object]"!=Object.prototype.toString.call(t).toLowerCase()||t.length?{}:l.data;n=(0,r.default)({message:i.message||i.msg||l.statusText,status:l.status},i)}else e.request?n.message="网络错误，请检查你的网络状态":console.log("Error",e.message);return 401==n.status&&(localStorage.removeItem("authorization"),store.dispatch("user/init",{})),n.success=!1,console.log(n),n}),t.default=i},kIoh:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Detail_title_2z_sV {\n  font-size: 0.22rem;\n  line-height: 0.32rem; }\n\n.Detail_info_3sf1M {\n  display: block;\n  color: #999;\n  font-size: 0.14rem;\n  margin: 0.1rem 0;\n  line-height: 0.24rem; }\n\n.Detail_content_3sWxZ {\n  font-size: 0.16rem;\n  line-height: 0.26rem;\n  text-indent: 2em; }\n  .Detail_content_3sWxZ p,\n  .Detail_content_3sWxZ div {\n    padding: 0.05rem 0;\n    text-indent: 2em; }\n  .Detail_content_3sWxZ img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Movies/Detail.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,qBAAqB,EAAE;;AAEzB;EACE,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB,EAAE;;AAEzB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,iBAAiB,EAAE;EACnB;;IAEE,mBAAmB;IACnB,iBAAiB,EAAE;EACrB;IACE,eAAe;IACf,gBAAgB;IAChB,eAAe,EAAE",file:"Detail.scss",sourcesContent:[".title {\n  font-size: 0.22rem;\n  line-height: 0.32rem; }\n\n.info {\n  display: block;\n  color: #999;\n  font-size: 0.14rem;\n  margin: 0.1rem 0;\n  line-height: 0.24rem; }\n\n.content {\n  font-size: 0.16rem;\n  line-height: 0.26rem;\n  text-indent: 2em; }\n  .content p,\n  .content div {\n    padding: 0.05rem 0;\n    text-indent: 2em; }\n  .content img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto; }\n"],sourceRoot:""}]),t.locals={title:"Detail_title_2z_sV",info:"Detail_info_3sf1M",content:"Detail_content_3sWxZ"}},"p/zi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("nbCY"));n("ZsLX");var r=s(n("cDcd")),l=s(n("yhP6")),i=s(n("APrv")),u=(s(n("l7WU")),s(n("8RPl")),s(n("kcRE")));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.border,n=void 0===t||t,s=e.title,o=e.children;return r.default.createElement(l.default,null,r.default.createElement(a.default,{mode:"dark",icon:r.default.createElement(i.default,null),className:n&&u.default.header},s),o)}}}]);
//# sourceMappingURL=9-62d8d50cab2e625b69c4.js.map