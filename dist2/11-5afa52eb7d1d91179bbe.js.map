{"version":3,"sources":["webpack:///./node_modules/.1.1.3@fetch-jsonp/build/fetch-jsonp.js","webpack:///./src/pages/Movies/Detail.scss?5ffb","webpack:///./src/Libs/Hoc/GetDataDouBan.jsx","webpack:///./src/pages/Movies/MoviesDetail.jsx","webpack:///./src/Libs/Utils/fetchJsonp.js","webpack:///./src/pages/Movies/Detail.scss","webpack:///./src/pages/Layout/BaseLayout.jsx"],"names":["__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","module","exports","defaultOptions","clearFunction","functionName","window","e","removeScript","scriptId","script","document","getElementById","getElementsByTagName","removeChild","_url","options","arguments","length","url","timeout","jsonpCallback","timeoutId","Promise","resolve","reject","callbackFunction","jsonpCallbackFunction","Date","now","Math","ceil","random","response","ok","json","clearTimeout","indexOf","jsonpScript","createElement","setAttribute","charset","id","appendChild","setTimeout","Error","onerror","apply","content","__webpack_require__","i","hmr","transform","insertInto","locals","m","v","p","h","__esModule","default","t","Component","_React$Component","_class2","_ref","_temp","_this","_ret","_ref4","_ref2","_this2","this","_classCallCheck3","_len","args","Array","_key","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","call","concat","state","loadState","loading","error","errorMsg","isOk","getData","_asyncToGenerator3","_regenerator2","mark","_callee","reqkey","res","dbData","update_time","delayend","_ref3","callback","_ref3$delaytime","delaytime","_ref3$cachetime","cachetime","_objectWithoutProperties3","wrap","_context","prev","next","abrupt","delayStart","_qs2","stringify","params","db","req","where","equalsIgnoreCase","last","sent","time","success","fetchData","_delay2","data","setState","message","stop","_callee2","_context2","_fetchJsonp2","put","_x2","_inherits3","_createClass3","key","value","_react2","_extends3","props","_react","g","f","_reactRouterDom","A","E","MoviesDetail","a","n","r","c","o","d","s","u","isCache","match","_x","_props","_state","_BaseLayout2","title","_ContentView2","style","padding","background","_Loading2","reflush","errorAction","onClick","className","_Detail2","original_title","year","info","directors","map","name","writers","casts","Link","to","genres","countries","aka","rating","average","ratings_count","wish_count","collect_count","images","src","large","alt","dangerouslySetInnerHTML","__html","summary","fetchJsonp","_promise2","then","catch","ex","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","p/zi","Object","defineProperty","l","_ref$border","border","children","_LayoutView2","_navBar2","mode","icon","_LeftIcon2","_Layout2","header"],"mappings":"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","file":"11-5afa52eb7d1d91179bbe.js","sourcesContent":["(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    if (script) {\n      document.getElementsByTagName('head')[0].removeChild(script);\n    }\n  }\n\n  function fetchJsonp(_url) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    // to avoid param reassign\n    var url = _url;\n    var timeout = options.timeout || defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n      var scriptId = jsonpCallback + '_' + callbackFunction;\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(scriptId);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);\n      if (options.charset) {\n        jsonpScript.setAttribute('charset', options.charset);\n      }\n      jsonpScript.id = scriptId;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + _url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        window[callbackFunction] = function () {\n          clearFunction(callbackFunction);\n        };\n      }, timeout);\n\n      // Caught if got 404/500\n      jsonpScript.onerror = function () {\n        reject(new Error('JSONP request to ' + _url + ' failed'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    });\n  }\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});","\nvar content = require(\"!!../../../node_modules/.0.28.11@css-loader/index.js??ref--5-1!../../../node_modules/.2.1.3@postcss-loader/lib/index.js!../../../node_modules/.6.0.7@sass-loader/lib/loader.js!./Detail.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/.0.20.3@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/.0.28.11@css-loader/index.js??ref--5-1!../../../node_modules/.2.1.3@postcss-loader/lib/index.js!../../../node_modules/.6.0.7@sass-loader/lib/loader.js!./Detail.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/.0.28.11@css-loader/index.js??ref--5-1!../../../node_modules/.2.1.3@postcss-loader/lib/index.js!../../../node_modules/.6.0.7@sass-loader/lib/loader.js!./Detail.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from \"react\";\r\nimport qs from \"qs\";\r\nimport delay from \"Utils/delay\";\r\nimport fetchJsonp from \"Utils/fetchJsonp\";\r\n\r\nconst cachetime = 1000 * 60 * 60;\r\nconst GetDataDouBan = Component =>\r\n    class extends React.Component {\r\n        state = {\r\n            loadState: {\r\n                loading: false,\r\n                error: false,\r\n                errorMsg: \"\",\r\n                isOk: false\r\n            }\r\n        };\r\n        getData = async ({ url, delaytime = 0, cachetime = cachetime, ...options } = {}, callback) => {\r\n            if (this.loading) {\r\n                return;\r\n            }\r\n            this.loading = true;\r\n            this.delayStart = Date.now();\r\n            let reqkey = \"https://api.douban.com/v2/\" + url + \"?\" + qs.stringify(options.params);\r\n            let res;\r\n            let dbData = await db.req\r\n                .where(\"req\")\r\n                .equalsIgnoreCase(reqkey)\r\n                .last();\r\n            if (dbData) {\r\n                res = dbData.res;\r\n                let update_time = dbData.time;\r\n                if (update_time && (Date.now() - update_time > cachetime || !res.success)) {\r\n                    res = await this.fetchData(reqkey);\r\n                }\r\n            } else {\r\n                res = await this.fetchData(reqkey);\r\n            }\r\n            let delayend = this.delayStart + delaytime - Date.now();\r\n            if (delayend > 0) {\r\n                await delay(delayend);\r\n            }\r\n            if (res.success) {\r\n                if (callback) {\r\n                    await callback(res.data);\r\n                }\r\n                this.setState({\r\n                    loadState: {\r\n                        loading: false,\r\n                        error: false,\r\n                        errorMsg: \"\",\r\n                        isOk: true\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loadState: {\r\n                        loading: false,\r\n                        error: true,\r\n                        errorMsg: res.message,\r\n                        isOk: false\r\n                    }\r\n                });\r\n            }\r\n            this.loading = false;\r\n        };\r\n        fetchData = async reqkey => {\r\n            this.setState({\r\n                loadState: {\r\n                    loading: true,\r\n                    error: false,\r\n                    errorMsg: \"\",\r\n                    isOk: false\r\n                }\r\n            });\r\n            let res = await fetchJsonp(reqkey);\r\n            db.req.put({ req: reqkey, res, time: Date.now() });\r\n            return res;\r\n        };\r\n        render() {\r\n            return <Component {...this.props} {...this.state} getData={this.getData} />;\r\n        }\r\n    };\r\n\r\nexport default GetDataDouBan;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BaseLayout from \"../Layout/BaseLayout\";\r\nimport ContentView from \"Views/Layout/ContentView\";\r\nimport Loading from \"Components/Layout/Loading\";\r\n\r\nimport styles from \"./Detail.scss\";\r\nimport GetData from \"Hoc/GetDataDouBan\";\r\n@GetData\r\nexport default class MoviesDetail extends Component {\r\n    state = {\r\n        data: null,\r\n        isCache: false\r\n    };\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n    getData = async () => {\r\n        let { id } = this.props.match.params;\r\n        this.props.getData({ url: `movie/subject/${id}` }, async data => {\r\n            this.setState({ data });\r\n        });\r\n    };\r\n    render() {\r\n        let { loadState, match } = this.props;\r\n        let { id } = match.params;\r\n        let { data, isCache } = this.state;\r\n        return (\r\n            <BaseLayout title=\"详情\">\r\n                <ContentView style={{ padding: \"15px\", background: \"#fff\" }}>\r\n                    <Loading\r\n                        {...loadState}\r\n                        reflush={isCache}\r\n                        errorAction={<div onClick={this.getData}>出错了，点击重试！</div>}\r\n                    >\r\n                        {data && (\r\n                            <div>\r\n                                <div className={styles.title}>\r\n                                    {data.title + \" \" + data.original_title}（{data.year}）\r\n                                </div>\r\n                                <div className={styles.info}>\r\n                                    <div>\r\n                                        导演：{data.directors.map(d => {\r\n                                            return d.name + \"，\";\r\n                                        })}\r\n                                    </div>\r\n                                    {data.writers && (\r\n                                        <div>\r\n                                            编剧：{data.writers.map(d => {\r\n                                                return d.name + \"，\";\r\n                                            })}\r\n                                        </div>\r\n                                    )}\r\n                                    <div>\r\n                                        主演：{data.casts.map(d => {\r\n                                            return (\r\n                                                <Link key={d.id} to={`/movies/celebrity/${d.id}`}>\r\n                                                    {d.name + \"，\"}\r\n                                                </Link>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                    <div>\r\n                                        类型：{data.genres.map(d => {\r\n                                            return d + \"，\";\r\n                                        })}\r\n                                    </div>\r\n                                    <div>\r\n                                        制片国家/地区：{data.countries.map(d => {\r\n                                            return d + \"，\";\r\n                                        })}\r\n                                    </div>\r\n                                    <div>\r\n                                        别名：{data.aka.map(d => {\r\n                                            return d + \"，\";\r\n                                        })}\r\n                                    </div>\r\n                                    <div>评分：{data.rating.average}</div>\r\n                                    <div>评分人数：{data.ratings_count}</div>\r\n                                    <div>想看人数：{data.wish_count}</div>\r\n                                    <div>看过人数：{data.collect_count}</div>\r\n                                </div>\r\n                                <div className={styles.content}>\r\n                                    <div>{data.images && <img src={data.images.large} alt=\"\" />}</div>\r\n                                    <div dangerouslySetInnerHTML={{ __html: data.summary }} />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </Loading>\r\n                </ContentView>\r\n            </BaseLayout>\r\n        );\r\n    }\r\n}\r\n","import fetchjsonp from \"fetch-jsonp\";\r\n\r\nconst fetchJsonp = async url =>\r\n    new Promise((resolve, reject) => {\r\n        fetchjsonp(url)\r\n            .then(function(response) {\r\n                return response.json();\r\n            })\r\n            .then(function(response) {\r\n                let data = {\r\n                    success: true,\r\n                    data: response\r\n                };\r\n                resolve(data);\r\n            })\r\n            .catch(function(ex) {\r\n                resolve({\r\n                    success: false,\r\n                    message: ex.message\r\n                });\r\n            });\r\n    });\r\n\r\nexport default fetchJsonp;\r\n","exports = module.exports = require(\"../../../node_modules/.0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".Detail_title_2z_sV {\\n  font-size: 0.22rem;\\n  line-height: 0.32rem; }\\n\\n.Detail_info_3sf1M {\\n  display: block;\\n  color: #999;\\n  font-size: 0.14rem;\\n  margin: 0.1rem 0;\\n  line-height: 0.24rem; }\\n\\n.Detail_content_3sWxZ {\\n  font-size: 0.16rem;\\n  line-height: 0.26rem;\\n  text-indent: 2em; }\\n  .Detail_content_3sWxZ p,\\n  .Detail_content_3sWxZ div {\\n    padding: 0.05rem 0;\\n    text-indent: 2em; }\\n  .Detail_content_3sWxZ img {\\n    display: block;\\n    max-width: 100%;\\n    margin: 0 auto; }\\n\", \"\", {\"version\":3,\"sources\":[\"E:/www/webpack4/src/pages/Movies/Detail.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;EACnB,qBAAqB,EAAE;;AAEzB;EACE,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB,EAAE;;AAEzB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,iBAAiB,EAAE;EACnB;;IAEE,mBAAmB;IACnB,iBAAiB,EAAE;EACrB;IACE,eAAe;IACf,gBAAgB;IAChB,eAAe,EAAE\",\"file\":\"Detail.scss\",\"sourcesContent\":[\".title {\\n  font-size: 0.22rem;\\n  line-height: 0.32rem; }\\n\\n.info {\\n  display: block;\\n  color: #999;\\n  font-size: 0.14rem;\\n  margin: 0.1rem 0;\\n  line-height: 0.24rem; }\\n\\n.content {\\n  font-size: 0.16rem;\\n  line-height: 0.26rem;\\n  text-indent: 2em; }\\n  .content p,\\n  .content div {\\n    padding: 0.05rem 0;\\n    text-indent: 2em; }\\n  .content img {\\n    display: block;\\n    max-width: 100%;\\n    margin: 0 auto; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\nexports.locals = {\n\t\"title\": \"Detail_title_2z_sV\",\n\t\"info\": \"Detail_info_3sf1M\",\n\t\"content\": \"Detail_content_3sWxZ\"\n};","import React, { Component } from \"react\";\r\nimport { NavBar } from \"antd-mobile\";\r\nimport LayoutView from \"Views/Layout/LayoutView\";\r\nimport LeftIcon from \"Components/Layout/LeftIcon\";\r\nimport ContentView from \"Views/Layout/ContentView\";\r\nimport Footer from \"./Footer\";\r\nimport styles from \"./Layout.scss\";\r\nconst BaseLayout = ({ border = true, title, children }) => {\r\n    return (\r\n        <LayoutView>\r\n            <NavBar mode=\"dark\" icon={<LeftIcon />} className={border && styles.header}>\r\n                {title}\r\n            </NavBar>\r\n            {children}\r\n        </LayoutView>\r\n    );\r\n};\r\nexport default BaseLayout;\r\n"],"sourceRoot":""}