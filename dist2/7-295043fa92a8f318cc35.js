(window.webpackJsonp=window.webpackJsonp||[]).push([[7,13],{"/zxI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n("G+8T")),r=f(n("p02J")),l=f(n("cLmd")),o=f(n("dAt5")),i=f(n("Fo7F")),s=n("cDcd"),u=f(s),d=f(n("v2wj")),c=(f(n("SU3N")),f(n("YXKc")));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.formRecordVo;return u.default.createElement("div",{className:c.default.user},u.default.createElement(d.default,null,e.user.userName),u.default.createElement("div",{className:c.default.username},u.default.createElement("div",null,e.user.userName),u.default.createElement("div",{className:c.default.time},e.createTime)))}}]),t}(s.Component);t.default=p},"0TTV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n("G+8T")),r=c(n("p02J")),l=c(n("cLmd")),o=c(n("dAt5")),i=c(n("Fo7F")),s=n("cDcd"),u=c(s),d=c(n("bZsc"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.filedTitle,n=e.filedValue;if(console.log(n),!n)return null;var a=JSON.parse(n);return 0==a.length?null:u.default.createElement("div",{className:d.default.attachments},u.default.createElement("div",{className:d.default.title},t||"附件"),u.default.createElement("div",{className:d.default.lists},a.map(function(e,t){return u.default.createElement("a",{key:t,href:e.path,download:!0,className:d.default.list},u.default.createElement("span",{className:"iconfont icon-fujian "+d.default.tb}),u.default.createElement("span",{className:d.default.name},e.name),u.default.createElement("div",{className:d.default.size},p(e.size)))})))}}]),t}(s.Component);t.default=f;var p=function(e){return e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1024/1024).toFixed(2)+"MB":e<1099511627776?(e/1024/1024/1024).toFixed(2)+"GB":e+"B"}},"0uRl":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Warper_warper_1FbMQ {\n  display: flex;\n  line-height: 0.22rem;\n  padding: 0.05rem 0.15rem;\n  font-size: 0.16rem; }\n\n.Warper_title_1fOMU {\n  color: #999;\n  min-width: 1.1rem;\n  max-width: 1.1rem;\n  width: 1.1rem;\n  text-align: left;\n  padding: 0 0.1rem 0 0; }\n\n.Warper_childrem_33Gdx {\n  flex: 1; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ListType/Warper.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,qBAAqB;EACrB,yBAAyB;EACzB,mBAAmB,EAAE;;AAEvB;EACE,YAAY;EACZ,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;EACd,iBAAiB;EACjB,sBAAsB,EAAE;;AAE1B;EACE,QAAQ,EAAE",file:"Warper.scss",sourcesContent:[".warper {\n  display: flex;\n  line-height: 0.22rem;\n  padding: 0.05rem 0.15rem;\n  font-size: 0.16rem; }\n\n.title {\n  color: #999;\n  min-width: 1.1rem;\n  max-width: 1.1rem;\n  width: 1.1rem;\n  text-align: left;\n  padding: 0 0.1rem 0 0; }\n\n.childrem {\n  flex: 1; }\n"],sourceRoot:""}]),t.locals={warper:"Warper_warper_1FbMQ",title:"Warper_title_1fOMU",childrem:"Warper_childrem_33Gdx"}},"1w8a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.split("?"),a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),r=n[1]?n[1].match(a):null;return null!=r?unescape(r[2]):null}},"2Jj9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"NoDataView__NoData"})(["display:flex;align-items:center;justify-content:center;height:1rem;color:#666;"]);t.default=r},"30OF":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedContent_ApprovedContent_2kXlD {\n  position: relative; }\n\n.ApprovedContent_workflowState_1Ndxp {\n  position: absolute;\n  top: 0;\n  right: 0.1rem;\n  width: 1rem;\n  height: 1rem;\n  font-size: 1rem;\n  color: #f00; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ApprovedContent.scss"],names:[],mappings:"AAAA;EACE,mBAAmB,EAAE;;AAEvB;EACE,mBAAmB;EACnB,OAAO;EACP,cAAc;EACd,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,YAAY,EAAE",file:"ApprovedContent.scss",sourcesContent:[".ApprovedContent {\n  position: relative; }\n\n.workflowState {\n  position: absolute;\n  top: 0;\n  right: 0.1rem;\n  width: 1rem;\n  height: 1rem;\n  font-size: 1rem;\n  color: #f00; }\n"],sourceRoot:""}]),t.locals={ApprovedContent:"ApprovedContent_ApprovedContent_2kXlD",workflowState:"ApprovedContent_workflowState_1Ndxp"}},"6XcT":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedList_Item_A6WXA .am-list-thumb {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/List/ApprovedList.scss"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B,qBAAqB,EAAE",file:"ApprovedList.scss",sourcesContent:[".Item :global(.am-list-thumb) {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n"],sourceRoot:""}]),t.locals={Item:"ApprovedList_Item_A6WXA"}},"80Zq":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Images_attachments_18Gjf {\n  padding: 0 0.1rem 0.05rem;\n  position: relative; }\n\n.Images_title_rEnHh {\n  color: #999;\n  text-align: left;\n  line-height: 0.22rem;\n  padding: 0.05rem;\n  font-size: 0.16rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.Images_lists_1iE4G {\n  padding: 0; }\n\n.Images_list_wd9az {\n  display: inline-block;\n  width: 0.7rem;\n  height: 0.7rem;\n  margin: 0.05rem 0.05rem 0;\n  background-size: cover;\n  background-position: center;\n  position: relative; }\n\n.Images_carousel_1Jr15 {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.75);\n  z-index: 999999; }\n  .Images_carousel_1Jr15 .am-carousel,\n  .Images_carousel_1Jr15 .slider-frame,\n  .Images_carousel_1Jr15 .slider-list,\n  .Images_carousel_1Jr15 .slider-slide {\n    height: 100% !important; }\n\n.Images_carouselImg_gdAr4 {\n  position: relative;\n  display: block;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n          transform: translate3d(-50%, -50%, 0); }\n\n.Images_close_2c4Fb {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 0.44rem;\n  height: 0.44rem;\n  line-height: 0.44rem;\n  text-align: center;\n  color: #fff;\n  font-size: 0.32rem; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ListType/Images.scss"],names:[],mappings:"AAAA;EACE,0BAA0B;EAC1B,mBAAmB,EAAE;;AAEvB;EACE,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,iBAAiB;EACjB,mBAAmB;EACnB,oBAAoB;EACpB,iBAAiB,EAAE;;AAErB;EACE,WAAW,EAAE;;AAEf;EACE,sBAAsB;EACtB,cAAc;EACd,eAAe;EACf,0BAA0B;EAC1B,uBAAuB;EACvB,4BAA4B;EAC5B,mBAAmB,EAAE;;AAEvB;EACE,gBAAgB;EAChB,YAAY;EACZ,aAAa;EACb,OAAO;EACP,QAAQ;EACR,gCAAgC;EAChC,gBAAgB,EAAE;EAClB;;;;IAIE,wBAAwB,EAAE;;AAE9B;EACE,mBAAmB;EACnB,eAAe;EACf,SAAS;EACT,UAAU;EACV,8CAA8C;UACtC,sCAAsC,EAAE;;AAElD;EACE,mBAAmB;EACnB,OAAO;EACP,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,qBAAqB;EACrB,mBAAmB;EACnB,YAAY;EACZ,mBAAmB,EAAE",file:"Images.scss",sourcesContent:[".attachments {\n  padding: 0 0.1rem 0.05rem;\n  position: relative; }\n\n.title {\n  color: #999;\n  text-align: left;\n  line-height: 0.22rem;\n  padding: 0.05rem;\n  font-size: 0.16rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.lists {\n  padding: 0; }\n\n.list {\n  display: inline-block;\n  width: 0.7rem;\n  height: 0.7rem;\n  margin: 0.05rem 0.05rem 0;\n  background-size: cover;\n  background-position: center;\n  position: relative; }\n\n.carousel {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.75);\n  z-index: 999999; }\n  .carousel :global(.am-carousel),\n  .carousel :global(.slider-frame),\n  .carousel :global(.slider-list),\n  .carousel :global(.slider-slide) {\n    height: 100% !important; }\n\n.carouselImg {\n  position: relative;\n  display: block;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n          transform: translate3d(-50%, -50%, 0); }\n\n.close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 0.44rem;\n  height: 0.44rem;\n  line-height: 0.44rem;\n  text-align: center;\n  color: #fff;\n  font-size: 0.32rem; }\n"],sourceRoot:""}]),t.locals={attachments:"Images_attachments_18Gjf",title:"Images_title_rEnHh",lists:"Images_lists_1iE4G",list:"Images_list_wd9az",carousel:"Images_carousel_1Jr15",carouselImg:"Images_carouselImg_gdAr4",close:"Images_close_2c4Fb"}},AEAa:function(e,t,n){var a=n("ZV+L"),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},AFrC:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ListTypes_warper_6wigl {\n  background: #fff;\n  padding: 0.15rem 0;\n  margin: 0.1rem 0 0; }\n\n.ListTypes_whiteSpace_2k0yS {\n  background: #f4f4f4; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ListType/ListTypes.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB,EAAE;;AAEvB;EACE,oBAAoB,EAAE",file:"ListTypes.scss",sourcesContent:[".warper {\n  background: #fff;\n  padding: 0.15rem 0;\n  margin: 0.1rem 0 0; }\n\n.whiteSpace {\n  background: #f4f4f4; }\n"],sourceRoot:""}]),t.locals={warper:"ListTypes_warper_6wigl",whiteSpace:"ListTypes_whiteSpace_2k0yS"}},Abqv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n("pRfh")),r=g(n("clYf")),l=g(n("G+8T")),o=g(n("p02J")),i=g(n("cLmd")),s=g(n("dAt5")),u=g(n("Fo7F")),d=n("cDcd"),c=g(d),f=n("Lrpq"),p=g(n("7l6G")),m=g(n("gJnY")),A=g(n("APrv")),h=g(n("Kiz8")),v=g(n("a+zj"));function g(e){return e&&e.__esModule?e:{default:e}}g(n("LCs5")),f.List.Item.Brief;var E=function(e){function t(){var e,n,i,u,d,c,f=this;(0,o.default)(this,t);for(var p=arguments.length,m=Array(p),A=0;A<p;A++)m[A]=arguments[A];return n=i=(0,s.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(m))),i.state={counts:{},initialPage:0},i.handleChange=function(e,t){i.setState({initialPage:t})},i.handleCount=function(e,t){var n=i.state.counts;n[e]=t,i.setState({counts:n})},i.handleClick=(c=(0,r.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/detail/"+n+"?readState="+t.readState);case 1:case"end":return e.stop()}},e,f)})),function(e,t){return c.apply(this,arguments)}),i.handleSubmit=(d=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/ribao");case 1:case"end":return e.stop()}},e,f)})),function(e){return d.apply(this,arguments)}),u=n,(0,s.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.counts,e.initialPage);return c.default.createElement(p.default,null,c.default.createElement(f.NavBar,{mode:"light",icon:c.default.createElement(A.default,null),rightContent:c.default.createElement("span",{onClick:this.handleSubmit},"写月报")},"月报"),c.default.createElement(m.default,null,c.default.createElement(f.Tabs,{tabs:[{title:"抄送给我的",sub:"0"},{title:"我的月报",sub:"1"}],initialPage:t,onChange:this.handleChange},c.default.createElement(h.default,{key:0,index:0,cur:t,formCode:"form-yuebao-1",onClick:this.handleClick,onCount:this.handleCount}),c.default.createElement(v.default,{key:1,index:1,cur:t,formCode:"form-yuebao-1",onClick:this.handleClick,onCount:this.handleCount}))))}}]),t}(d.Component);t.default=E},BdkL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n("G+8T")),r=f(n("p02J")),l=f(n("cLmd")),o=f(n("dAt5")),i=f(n("Fo7F")),s=n("cDcd"),u=f(s),d=n("Lrpq"),c=f(n("RBUe"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,r.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleCarouselShow=function(e){var t=e.target.dataset.index;n.setState({carouselvisible:!0,selectedIndex:t})},n.handleCarouselHide=function(e){n.setState({carouselvisible:!1})},n.state={selectedIndex:0,carouselvisible:!1},n}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.filedTitle,a=t.filedValue;if(!a)return null;var r=this.state,l=r.selectedIndex,o=r.carouselvisible,i=JSON.parse(a);return u.default.createElement("div",{className:c.default.attachments},u.default.createElement("div",{className:c.default.title},"图片",n.title),i.length>0&&u.default.createElement("div",{className:c.default.lists},i.map(function(t,n){return u.default.createElement("div",{className:c.default.list,key:n,onClick:e.handleCarouselShow,style:{backgroundImage:"url("+t.path+")"}})})),o&&u.default.createElement("div",{className:c.default.carousel,onClick:this.handleCarouselHide},u.default.createElement(d.Carousel,{autoplay:!1,selectedIndex:l},i.map(function(e,t){return u.default.createElement("img",{key:t,className:c.default.carouselImg,src:e.path})})),u.default.createElement("div",{className:"iconfont icon-chuyidong "+c.default.close})))}}]),t}(s.Component);t.default=p},CbeQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n("cDcd")),r=l(n("t2xA"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.title,n=e.children;return a.default.createElement("div",{className:r.default.warper},a.default.createElement("div",{className:r.default.title},t),a.default.createElement("div",{className:r.default.childrem},n))}},D0Sn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=A(n("pRfh")),r=A(n("clYf")),l=A(n("G+8T")),o=A(n("p02J")),i=A(n("cLmd")),s=A(n("dAt5")),u=A(n("Fo7F")),d=n("cDcd"),c=A(d),f=n("Lrpq"),p=A(n("7l6G")),m=A(n("gJnY"));function A(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e=this;(0,o.default)(this,t);var n,i=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return i.handleChange=function(e){i.setState({approveOpinion:e})},i.handleSubmit=function(){var e=i.props.location.state.action;i.setState({loading:!0}),0==e?i.handleAgree(!0):1==e?i.handleAgree(!1):2==e&&i.handleHandOver()},i.handleAgree=(n=(0,r.default)(a.default.mark(function t(n){var r,l,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.props.location.state,l=i.state.approveOpinion,e.next=4,Request("form/approve",{method:"post",params:{approveId:r.ApprovedId,approveResult:n,approveOpinion:l,userId:localStorage.userId,recordId:r.recordId}});case 4:o=e.sent,i.setState({loading:!1}),o.success&&(store.dispatch("init/save",{ApprovedDetailReolad:!0}),window.history.back()),f.Toast.info(o.message,2);case 8:case"end":return e.stop()}},t,e)})),function(e){return n.apply(this,arguments)}),i.handleHandOver=(0,r.default)(a.default.mark(function t(){var n,r,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.props.location.state,r=i.state.approveOpinion,e.next=4,Request("form/care",{method:"post",params:{approveId:n.ApprovedId,userId:n.user.userId,approveOpinion:r,recordId:n.recordId}});case 4:l=e.sent,i.setState({loading:!1}),l.success&&(store.dispatch("init/save",{ApprovedDetailReolad:!0}),window.history.back()),f.Toast.info(l.message,2);case 8:case"end":return e.stop()}},t,e)})),i.state={approveOpinion:"",loading:!1},i}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,n=e.location,a=n.pathname.split("/");a=a.slice(0,a.length-1).join("/"),n.state||t.replace(a)}},{key:"render",value:function(){var e=this.props.location.state;if(console.log(e),!e)return null;var t="审批意见";2==e.action&&(t="转交给"+e.user.personname);var n=this.state.loading;return c.default.createElement(p.default,null,c.default.createElement(f.NavBar,{mode:"light",icon:c.default.createElement(f.Icon,{type:"left",size:"lg"}),onLeftClick:function(){return window.history.back()}},t),c.default.createElement(m.default,null,c.default.createElement(f.WhiteSpace,null),c.default.createElement(f.TextareaItem,{placeholder:"请输入",rows:5,count:100,onChange:this.handleChange}),c.default.createElement(f.WhiteSpace,null),c.default.createElement(f.WingBlank,null,c.default.createElement(f.Button,{type:"primary",loading:n,onClick:this.handleSubmit},"提交"))))}}]),t}(d.Component);t.default=h},Dxby:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Footer_footer_35PYO {\n  display: flex;\n  line-height: 0.46rem;\n  height: 0.46rem;\n  border-top: 1px solid #ccc; }\n\n.Footer_action_2IYm6 {\n  flex: 1;\n  text-align: center;\n  color: #108ee9;\n  font-size: 0.18rem; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/Footer.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,qBAAqB;EACrB,gBAAgB;EAChB,2BAA2B,EAAE;;AAE/B;EACE,QAAQ;EACR,mBAAmB;EACnB,eAAe;EACf,mBAAmB,EAAE",file:"Footer.scss",sourcesContent:[".footer {\n  display: flex;\n  line-height: 0.46rem;\n  height: 0.46rem;\n  border-top: 1px solid #ccc; }\n\n.action {\n  flex: 1;\n  text-align: center;\n  color: #108ee9;\n  font-size: 0.18rem; }\n"],sourceRoot:""}]),t.locals={footer:"Footer_footer_35PYO",action:"Footer_action_2IYm6"}},"EZ/7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n("KN1l")),l=E(n("pRfh")),o=E(n("uB8n")),i=E(n("heMk")),s=E(n("clYf")),u=E(n("G+8T")),d=E(n("p02J")),c=E(n("cLmd")),f=E(n("dAt5")),p=E(n("Fo7F")),m=n("cDcd"),A=E(m),h=n("Lrpq"),v=E(n("arND")),g=n("rRcN");function E(e){return e&&e.__esModule?e:{default:e}}var _=(0,v.default)(function(){return Promise.all([n.e(12),n.e(16)]).then(function(){var e=n("jwYM");return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})},!0),C={chuchai:{title:"出差",formCode:"form-chuchai-1",custfields:"custfields1"},waichu:{title:"外出",formCode:"form-waichu-1",custfields:"custfields1"},jiaban:{title:"加班",formCode:"form-jiaban-1",custfields:"custfields1"},leave:{title:"请假",formCode:"form-leave-1",custfields:"custfields1"},ribao:{title:"日志",formCode:"form-ribao-1",custfields:"custfields2"},zhoubao:{title:"周报",formCode:"form-zhoubao-1",custfields:"custfields2"},yuebao:{title:"月报",formCode:"form-yuebao-1",custfields:"custfields2"},grjh:{title:"个人周计划",formCode:"form-grjh-1",custfields:"custfields2"},bmjh:{title:"部门月计划",formCode:"form-bmjh-1",custfields:"custfields2"}},B={custfields1:[{type:"WhiteSpace"},{title:"审批人",id:"approved",name:"approved",type:"organizations",repeat:!0,rules:[{required:!0,message:"必须选择审批人"}]},{type:"WhiteSpace"},{title:"抄送人",id:"cc",name:"cc",type:"organizations",step:!1,tip:"审批通过后，通知抄送人",multiple:!0}],custfields2:[{type:"WhiteSpace"},{title:"抄送人",id:"cc",name:"cc",type:"organizations",step:!1,multiple:!0,rules:[{required:!0,message:"必须选择抄送人"}]}]},b=(0,g.contextConsumers)(function(e,t){var n=t.match.params.moduleId,a=C[n],r=a?a.formCode:null;return{jsondata:e.getIn(["FormFields",localStorage.organizationId,r]),formCode:r,moduleId:n,mod:a}})(a=function(e){function t(e){var n=this;(0,d.default)(this,t);var a,r=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return r.handleSubmit=(a=(0,s.default)(l.default.mark(function e(t){var a,s,u,d,c,f,p,m;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.props,s=a.jsondata,u=a.mod,d=a.history,s){e.next=3;break}return e.abrupt("return");case 3:for(f in c={},t)"object"==(0,i.default)(t[f])?c[f]=(0,o.default)(t[f]):c[f]=t[f];if("custfields1"!=u.custfields){e.next=10;break}if(t.approved&&0!=t.approved.length){e.next=8;break}return e.abrupt("return",h.Toast.info("必须选择审批人",2));case 8:e.next=13;break;case 10:if("custfields2"!=u.custfields){e.next=13;break}if(t.cc&&0!=t.cc.length){e.next=13;break}return e.abrupt("return",h.Toast.info("必须选择抄送人",2));case 13:return p={orgId:localStorage.organizationId,userId:localStorage.userId,formId:s.get("id"),data:c},e.next=16,Request("form/save",{method:"post",data:p});case 16:(m=e.sent).success?"custfields2"==u.custfields?(h.Toast.info("日志提交成功"),d.replace("/")):(h.Toast.info("审批提交成功"),d.replace("/originates")):h.Toast.info(m.message);case 18:case"end":return e.stop()}},e,n)})),function(e){return a.apply(this,arguments)}),r.state={},r}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){var e=(0,s.default)(l.default.mark(function e(){var t,n,a,o,i,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.jsondata,t.moduleId,a=t.formCode,t.history,o=t.mod,!n&&a){e.next=3;break}return e.abrupt("return");case 3:return localStorage.organizationId,e.next=6,Request("form/getForm",{params:{formCode:o.formCode,userId:localStorage.userId}});case 6:if(!(i=e.sent).success){e.next=16;break}if(i.data.form){e.next=11;break}return h.Toast.info("未发现该模块表单数据"),e.abrupt("return");case 11:s=i.data.form.fields.map(function(e){var t={};if(e.controlItems&&e.controlItems.length>0){var n=e.controlItems;t=JSON.parse(n)}return(0,r.default)({name:e.id+","+e.filedName,title:e.filedTitle,type:e.controlType,placeholder:e.controlTips,rules:e.controlCheckRule?JSON.parse(e.controlCheckRule):null},t)}),u=(0,r.default)({},i.data.form,{fields:s.concat(B[o.custfields])}),this.props.dispatch.setIn(["FormFields",localStorage.organizationId,a],u),e.next=17;break;case 16:h.Toast.info(i.message);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.jsondata,n=e.mod,a=e.moduleId,r=n?"提交":"",l=n?n.title:"该模块不存在",o=t?t.fields:$arr;return A.default.createElement(_,{onSubmit:this.handleSubmit,title:l,rightTitle:r,moduleId:a,fields:o,datajson:t})}}]),t}(m.Component))||a;t.default=b},FI4c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"LoadMoreView__LoadMore"})(["text-align:center;line-height:0.44rem;color:#666;"]);t.default=r},HHts:function(e,t,n){var a=n("bqZl");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},HXPI:function(e,t,n){var a=n("KFpe");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},KFpe:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedUsers_departments_bzNx6 {\n  padding: 0 0.15rem 0.1rem;\n  position: relative;\n  background: #fff;\n  margin: 0.1rem 0; }\n  .ApprovedUsers_departments_bzNx6:after {\n    content: '';\n    position: absolute;\n    background-color: #ddd;\n    display: block;\n    z-index: 1;\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 1PX;\n    -webkit-transform-origin: 50% 100%;\n    transform-origin: 50% 100%;\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5); }\n\n.ApprovedUsers_title_1NhaC {\n  color: #000;\n  text-align: left;\n  min-height: 0.44rem;\n  font-size: 0.17rem;\n  line-height: 0.44rem;\n  margin-left: 0;\n  margin-right: 0.05rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.ApprovedUsers_tip_2v7AY {\n  font-size: 0.12rem;\n  color: #999;\n  margin-left: 0.02rem; }\n\n.ApprovedUsers_steps_29Kgl {\n  display: inline-block;\n  text-align: center;\n  margin: 0 0.05rem 0.1rem; }\n\n.ApprovedUsers_userdetail_SwdO_,\n.ApprovedUsers_step_kBUUF {\n  display: inline-block; }\n\n.ApprovedUsers_avatar_3sYay,\n.ApprovedUsers_iconfont_1jaQU {\n  display: block;\n  width: 0.54rem;\n  height: 0.54rem;\n  font-size: 0.4rem;\n  border-radius: 0.54rem;\n  line-height: 0.54rem;\n  overflow: hidden;\n  background: #f2f2f2;\n  color: #ccc; }\n\n.ApprovedUsers_avatar_3sYay {\n  background: #108ee9;\n  font-size: 0.17rem;\n  color: #fff; }\n\n.ApprovedUsers_username_1JTWC {\n  line-height: 0.22rem;\n  height: 0.22rem; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ApprovedUsers.scss"],names:[],mappings:"AAAA;EACE,0BAA0B;EAC1B,mBAAmB;EACnB,iBAAiB;EACjB,iBAAiB,EAAE;EACnB;IACE,YAAY;IACZ,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;IACf,WAAW;IACX,UAAU;IACV,YAAY;IACZ,UAAU;IACV,QAAQ;IACR,YAAY;IACZ,YAAY;IACZ,mCAAmC;IACnC,2BAA2B;IAC3B,+BAA+B;IAC/B,uBAAuB,EAAE;;AAE7B;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;EACpB,mBAAmB;EACnB,qBAAqB;EACrB,eAAe;EACf,sBAAsB;EACtB,oBAAoB;EACpB,iBAAiB,EAAE;;AAErB;EACE,mBAAmB;EACnB,YAAY;EACZ,qBAAqB,EAAE;;AAEzB;EACE,sBAAsB;EACtB,mBAAmB;EACnB,yBAAyB,EAAE;;AAE7B;;EAEE,sBAAsB,EAAE;;AAE1B;;EAEE,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,uBAAuB;EACvB,qBAAqB;EACrB,iBAAiB;EACjB,oBAAoB;EACpB,YAAY,EAAE;;AAEhB;EACE,oBAAoB;EACpB,mBAAmB;EACnB,YAAY,EAAE;;AAEhB;EACE,qBAAqB;EACrB,gBAAgB,EAAE",file:"ApprovedUsers.scss",sourcesContent:[".departments {\n  padding: 0 0.15rem 0.1rem;\n  position: relative;\n  background: #fff;\n  margin: 0.1rem 0; }\n  .departments:after {\n    content: '';\n    position: absolute;\n    background-color: #ddd;\n    display: block;\n    z-index: 1;\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 1PX;\n    -webkit-transform-origin: 50% 100%;\n    transform-origin: 50% 100%;\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5); }\n\n.title {\n  color: #000;\n  text-align: left;\n  min-height: 0.44rem;\n  font-size: 0.17rem;\n  line-height: 0.44rem;\n  margin-left: 0;\n  margin-right: 0.05rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.tip {\n  font-size: 0.12rem;\n  color: #999;\n  margin-left: 0.02rem; }\n\n.steps {\n  display: inline-block;\n  text-align: center;\n  margin: 0 0.05rem 0.1rem; }\n\n.userdetail,\n.step {\n  display: inline-block; }\n\n.avatar,\n.iconfont {\n  display: block;\n  width: 0.54rem;\n  height: 0.54rem;\n  font-size: 0.4rem;\n  border-radius: 0.54rem;\n  line-height: 0.54rem;\n  overflow: hidden;\n  background: #f2f2f2;\n  color: #ccc; }\n\n.avatar {\n  background: #108ee9;\n  font-size: 0.17rem;\n  color: #fff; }\n\n.username {\n  line-height: 0.22rem;\n  height: 0.22rem; }\n"],sourceRoot:""}]),t.locals={departments:"ApprovedUsers_departments_bzNx6",title:"ApprovedUsers_title_1NhaC",tip:"ApprovedUsers_tip_2v7AY",steps:"ApprovedUsers_steps_29Kgl",userdetail:"ApprovedUsers_userdetail_SwdO_",step:"ApprovedUsers_step_kBUUF",avatar:"ApprovedUsers_avatar_3sYay",iconfont:"ApprovedUsers_iconfont_1jaQU",username:"ApprovedUsers_username_1JTWC"}},Kiz8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,o=b(n("pRfh")),i=b(n("clYf")),s=b(n("G+8T")),u=b(n("p02J")),d=b(n("cLmd")),c=b(n("dAt5")),f=b(n("Fo7F")),p=n("cDcd"),m=b(p),A=n("Lrpq"),h=(b(n("SU3N")),b(n("FI4c"))),v=b(n("2Jj9")),g=b(n("bCfC")),E=b(n("fp/F")),_=b(n("V61l")),C=b(n("ypVV")),B=b(n("LCs5"));function b(e){return e&&e.__esModule?e:{default:e}}var w=A.List.Item,y=w.Brief,k=(r=a=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return l.call(n),n.state={data:[],loading:!0,page:1,hasNext:!0},n.loading=!1,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.handleinitReq(this.props,!0)}},{key:"componentWillReceiveProps",value:function(e){this.handleinitReq(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,a=(t.index,this.state),r=a.data,l=a.hasNext,o=a.loading;return m.default.createElement(g.default,null,m.default.createElement(E.default,{onScroll:this.handleScroll},m.default.createElement(A.List,null,r.length>0?r.map(function(e){var t=e.ccUserName||e.userName||"";return m.default.createElement(w,{key:e.businessId,arrow:"horizontal",className:B.default.Item,thumb:m.default.createElement(_.default,null,t.slice(0,1)),multipleLine:!0,onClick:n.bind(null,e,e.businessId)},m.default.createElement("div",null,e.ccTitle),m.default.createElement(y,null,m.default.createElement("div",null,"创建时间：",e.createTime),m.default.createElement("div",null,"抄送时间：",e.ccTime),"N"==e.readState?m.default.createElement(C.default,{disabled:!0},"未读"):m.default.createElement(C.default,null,"已读")))}):m.default.createElement(w,null,m.default.createElement(v.default,null,"暂无数据"))),m.default.createElement("div",{ref:function(t){return e.load=t}}),l?!o&&m.default.createElement(h.default,{onClick:this.handleReq},"更多数据加载中..."):r.length>0&&m.default.createElement(h.default,null,"没有更多数据了")))}}]),t}(p.Component),a.defaultProps={pageSize:10},l=function(){var e,t=this;this.handleinitReq=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.cur,r=e.index;(r==a||n)&&t.handleReq(0,[],!0,r)},this.handleScroll=function(e){t.load.getBoundingClientRect().top<window.screen.height+100&&t.handleReq()},this.handleReq=(e=(0,i.default)(o.default.mark(function e(){var n,a,r,l,i,s,u,d,c,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.page,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.data,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.state.hasNext;return arguments.length>3&&void 0!==arguments[3]&&arguments[3],o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,n=t.props,a=n.pageSize,n.onCount,r=n.formCode,f+=1,l={userId:localStorage.userId,uid:localStorage.userId,pageNo:f,pageSize:a,orgid:localStorage.organizationId,formCode:r},i="cc/getLogCCList",e.next=11,Request(i,{params:l});case 11:(s=e.sent).success&&(u=s.data.page,d=u.list,c=u.count,p=p.concat(d),t.setState({data:p,page:f,loading:!1,count:c,hasNext:d.length>0&&d.length>a-1})),t.loading=!1;case 14:case"end":return e.stop()}},e,t)})),function(){return e.apply(this,arguments)})},r);t.default=k},LCs5:function(e,t,n){var a=n("6XcT");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},"LN/a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n("G+8T")),r=f(n("p02J")),l=f(n("cLmd")),o=f(n("dAt5")),i=f(n("Fo7F")),s=n("cDcd"),u=f(s),d=n("Lrpq"),c=(f(n("Xg5y")),f(n("noea")));function f(e){return e&&e.__esModule?e:{default:e}}var p=d.Steps.Step,m=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.formRecordVo,n=e.workflowVo.approvers,a=n.findIndex(function(e){return 1==e.approveState}),r=a+1;return-1==a&&(r=n.length+1),u.default.createElement("div",{className:c.default.steps},u.default.createElement(d.WingBlank,null,u.default.createElement(d.Steps,{current:r},u.default.createElement(p,{title:u.default.createElement("div",{className:c.default.title},u.default.createElement("span",{className:c.default.username},t.user.userName),u.default.createElement("span",{className:c.default.action},"发起申请"),u.default.createElement("span",{className:c.default.time},t.createTime)),icon:u.default.createElement("span",{className:c.default.stepsicon},t.user.userName&&t.user.userName.slice(0))}),n.map(function(e,t){return u.default.createElement(p,{key:t,title:u.default.createElement("div",{className:c.default.title},u.default.createElement("span",{className:c.default.username},e.approverName),u.default.createElement("span",{className:1==e.approveState?c.default.actionwait:c.default.actionagree},e.approveStateName),u.default.createElement("span",{className:c.default.time},e.approveTime)),description:u.default.createElement("div",{className:c.default.description},e.approveOpinion),icon:u.default.createElement("span",{className:c.default.stepsicon},e.approverName.slice(0))})}))))}}]),t}(s.Component);t.default=m},Oiex:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n("cDcd")),r=l(n("CbeQ"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement(r.default,{title:e.filedTitle},a.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.filedValue}}))}},RBUe:function(e,t,n){var a=n("80Zq");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},Rhr1:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedUser_user_eYa0Q {\n  background: #fff;\n  line-height: 0.44rem;\n  margin: 0.1rem 0 0;\n  padding: 0.1rem 0.15rem;\n  display: flex;\n  align-items: center; }\n\n.ApprovedUser_username_2-Nls {\n  margin-left: 0.1rem;\n  font-size: 0.17rem;\n  line-height: 0.22rem; }\n\n.ApprovedUser_time_vuGyq {\n  font-size: 0.14rem;\n  color: #666; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ApprovedUser.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,qBAAqB;EACrB,mBAAmB;EACnB,wBAAwB;EACxB,cAAc;EACd,oBAAoB,EAAE;;AAExB;EACE,oBAAoB;EACpB,mBAAmB;EACnB,qBAAqB,EAAE;;AAEzB;EACE,mBAAmB;EACnB,YAAY,EAAE",file:"ApprovedUser.scss",sourcesContent:[".user {\n  background: #fff;\n  line-height: 0.44rem;\n  margin: 0.1rem 0 0;\n  padding: 0.1rem 0.15rem;\n  display: flex;\n  align-items: center; }\n\n.username {\n  margin-left: 0.1rem;\n  font-size: 0.17rem;\n  line-height: 0.22rem; }\n\n.time {\n  font-size: 0.14rem;\n  color: #666; }\n"],sourceRoot:""}]),t.locals={user:"ApprovedUser_user_eYa0Q",username:"ApprovedUser_username_2-Nls",time:"ApprovedUser_time_vuGyq"}},SU3N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n("cDcd"))&&a.__esModule?a:{default:a};t.default=function(e){var t=e.time,n=new Date(parseInt(t)),a=n.getFullYear()+"-",l=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",o=n.getDate()+" ",i=n.getHours();i=i<10?"0"+i:i;var s=n.getMinutes();s=s<10?"0"+s:s;var u=n.getSeconds(),d=a+l+o+i+":"+s+":"+(u=u<10?"0"+u:u);return r.default.createElement("span",null,d)}},V61l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"ThumbView"})(["width:0.4rem;height:0.4rem;background:#108ee9;border-radius:0.4rem;text-align:center;line-height:0.4rem;color:#fff;font-size:0.16rem;"]);t.default=r},"WgM/":function(e,t,n){var a=n("AFrC");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},Xg5y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n("cDcd"))&&a.__esModule?a:{default:a};t.default=function(e){var t=e.time,n=new Date(parseInt(t)),a=n.getFullYear()+"-",l=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",o=n.getDate()+" ",i=n.getHours();i=i<10?"0"+i:i;var s=n.getMinutes();s=s<10?"0"+s:s;var u=n.getSeconds(),d=a+l+o+i+":"+s+":"+(u=u<10?"0"+u:u);return r.default.createElement("span",null,d)}},YXKc:function(e,t,n){var a=n("Rhr1");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},"a+zj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,o=B(n("pRfh")),i=B(n("clYf")),s=B(n("G+8T")),u=B(n("p02J")),d=B(n("cLmd")),c=B(n("dAt5")),f=B(n("Fo7F")),p=n("cDcd"),m=B(p),A=n("Lrpq"),h=(B(n("SU3N")),B(n("FI4c"))),v=B(n("2Jj9")),g=B(n("bCfC")),E=B(n("fp/F")),_=B(n("V61l")),C=(B(n("ypVV")),B(n("LCs5")));function B(e){return e&&e.__esModule?e:{default:e}}var b=A.List.Item,w=b.Brief,y=(r=a=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return l.call(n),n.state={data:[],loading:!0,page:1,hasNext:!0},n.loading=!1,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.handleinitReq(this.props,!0)}},{key:"componentWillReceiveProps",value:function(e){this.handleinitReq(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,a=(t.index,this.state),r=a.data,l=a.hasNext,o=a.loading;return m.default.createElement(g.default,null,m.default.createElement(E.default,{onScroll:this.handleScroll},m.default.createElement(A.List,null,r.length>0?r.map(function(e){var t=e.user.userName||"";return m.default.createElement(b,{key:e.id,arrow:"horizontal",className:C.default.Item,thumb:m.default.createElement(_.default,null,t.slice(0,1)),multipleLine:!0,onClick:n.bind(null,e,e.id)},m.default.createElement("div",null,e.form.formName),m.default.createElement(w,null,m.default.createElement("div",null,"创建时间：",e.createTime)))}):m.default.createElement(b,null,m.default.createElement(v.default,null,"暂无数据"))),m.default.createElement("div",{ref:function(t){return e.load=t}}),l?!o&&m.default.createElement(h.default,{onClick:this.handleReq},"更多数据加载中..."):r.length>0&&m.default.createElement(h.default,null,"没有更多数据了")))}}]),t}(p.Component),a.defaultProps={pageSize:10},l=function(){var e,t=this;this.handleinitReq=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.cur,r=e.index;(r==a||n)&&t.handleReq(0,[],!0,r)},this.handleScroll=function(e){t.load.getBoundingClientRect().top<window.screen.height+100&&t.handleReq()},this.handleReq=(e=(0,i.default)(o.default.mark(function e(){var n,a,r,l,i,s,u,d,c,f,p,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.page,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.data,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.state.hasNext;return arguments.length>3&&void 0!==arguments[3]&&arguments[3],o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:if(h){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,n=t.props,a=n.index,r=n.pageSize,l=n.onCount,i=n.formCode,m+=1,s={userId:localStorage.userId,uid:localStorage.userId,pageNo:m,pageSize:r,orgid:localStorage.organizationId,formCode:i},u="form/selectLogList",e.next=11,Request(u,{params:s});case 11:(d=e.sent).success&&(c=d.data.page,f=c.list,p=c.count,A=A.concat(f),t.setState({data:A,page:m,loading:!1,count:p,hasNext:f.length>0&&f.length>r-1}),1==a&&l&&l(1,A.length)),t.loading=!1;case 14:case"end":return e.stop()}},e,t)})),function(){return e.apply(this,arguments)})},r);t.default=y},aapH:function(e,t,n){var a=n("Dxby");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},b4P9:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Attachment_attachments_2L0bi {\n  padding: 0 0.15rem;\n  position: relative; }\n\n.Attachment_title_25sVo {\n  color: #999;\n  text-align: left;\n  line-height: 0.22rem;\n  padding: 0.05rem 0;\n  font-size: 0.16rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.Attachment_lists_1unPD {\n  padding: 0 0 0.1rem; }\n\n.Attachment_list_o9wjX {\n  display: flex;\n  line-height: 0.32rem;\n  max-height: 0.32rem; }\n  .Attachment_list_o9wjX .Attachment_tb_6p4LV {\n    font-size: 0.14rem;\n    margin-right: 0.04rem; }\n  .Attachment_list_o9wjX .Attachment_name_3bwv_ {\n    color: #1890ff; }\n  .Attachment_list_o9wjX .Attachment_size_1Sxzv {\n    font-size: 0.12rem;\n    color: #666;\n    margin: 0 0.05rem; }\n\n.Attachment_name_3bwv_ {\n  flex: 1;\n  overflow: hidden; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ListType/Attachment.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,mBAAmB,EAAE;;AAEvB;EACE,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;EACpB,iBAAiB,EAAE;;AAErB;EACE,oBAAoB,EAAE;;AAExB;EACE,cAAc;EACd,qBAAqB;EACrB,oBAAoB,EAAE;EACtB;IACE,mBAAmB;IACnB,sBAAsB,EAAE;EAC1B;IACE,eAAe,EAAE;EACnB;IACE,mBAAmB;IACnB,YAAY;IACZ,kBAAkB,EAAE;;AAExB;EACE,QAAQ;EACR,iBAAiB,EAAE",file:"Attachment.scss",sourcesContent:[".attachments {\n  padding: 0 0.15rem;\n  position: relative; }\n\n.title {\n  color: #999;\n  text-align: left;\n  line-height: 0.22rem;\n  padding: 0.05rem 0;\n  font-size: 0.16rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.lists {\n  padding: 0 0 0.1rem; }\n\n.list {\n  display: flex;\n  line-height: 0.32rem;\n  max-height: 0.32rem; }\n  .list .tb {\n    font-size: 0.14rem;\n    margin-right: 0.04rem; }\n  .list .name {\n    color: #1890ff; }\n  .list .size {\n    font-size: 0.12rem;\n    color: #666;\n    margin: 0 0.05rem; }\n\n.name {\n  flex: 1;\n  overflow: hidden; }\n"],sourceRoot:""}]),t.locals={attachments:"Attachment_attachments_2L0bi",title:"Attachment_title_25sVo",lists:"Attachment_lists_1unPD",list:"Attachment_list_o9wjX",tb:"Attachment_tb_6p4LV",name:"Attachment_name_3bwv_",size:"Attachment_size_1Sxzv"}},bCfC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"LazyView"})(["display:flex;position:relative;height:100%;width:100%;flex-direction:column;"]);t.default=r},bZsc:function(e,t,n){var a=n("b4P9");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},bqZl:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedList_Item_3zRtQ .am-list-thumb {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/ApprovedList.scss"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B,qBAAqB,EAAE",file:"ApprovedList.scss",sourcesContent:[".Item :global(.am-list-thumb) {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n"],sourceRoot:""}]),t.locals={Item:"ApprovedList_Item_3zRtQ"}},eJDu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n("pRfh")),r=g(n("clYf")),l=g(n("G+8T")),o=g(n("p02J")),i=g(n("cLmd")),s=g(n("dAt5")),u=g(n("Fo7F")),d=n("cDcd"),c=g(d),f=n("Lrpq"),p=g(n("7l6G")),m=g(n("gJnY")),A=g(n("APrv")),h=g(n("Kiz8")),v=g(n("a+zj"));function g(e){return e&&e.__esModule?e:{default:e}}g(n("LCs5")),f.List.Item.Brief;var E=function(e){function t(){var e,n,i,u,d,c,f=this;(0,o.default)(this,t);for(var p=arguments.length,m=Array(p),A=0;A<p;A++)m[A]=arguments[A];return n=i=(0,s.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(m))),i.state={counts:{},initialPage:0},i.handleChange=function(e,t){i.setState({initialPage:t})},i.handleCount=function(e,t){var n=i.state.counts;n[e]=t,i.setState({counts:n})},i.handleClick=(c=(0,r.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/detail/"+n+"?readState="+t.readState);case 1:case"end":return e.stop()}},e,f)})),function(e,t){return c.apply(this,arguments)}),i.handleSubmit=(d=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/grjh");case 1:case"end":return e.stop()}},e,f)})),function(e){return d.apply(this,arguments)}),u=n,(0,s.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.counts,e.initialPage);return c.default.createElement(p.default,null,c.default.createElement(f.NavBar,{mode:"light",icon:c.default.createElement(A.default,null),rightContent:c.default.createElement("span",{onClick:this.handleSubmit},"写计划")},"个人计划"),c.default.createElement(m.default,null,c.default.createElement(f.Tabs,{tabs:[{title:"抄送给我的",sub:"0"},{title:"我的个人计划",sub:"1"}],initialPage:t,onChange:this.handleChange},c.default.createElement(h.default,{key:0,index:0,cur:t,formCode:"form-grjh-1",onClick:this.handleClick,onCount:this.handleCount}),c.default.createElement(v.default,{key:1,index:1,cur:t,formCode:"form-grjh-1",onClick:this.handleClick,onCount:this.handleCount}))))}}]),t}(d.Component);t.default=E},eVJh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n("cDcd")),r=l(n("CbeQ"));function l(e){return e&&e.__esModule?e:{default:e}}var o=(0,l(n("arND")).default)(function(){return n.e(14).then(function(){var e=n("CqUl");return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})});t.default=function(e){var t=JSON.parse(e.filedValue),n=i(t,o);return a.default.createElement(r.default,{title:e.filedTitle},a.default.createElement("div",null,n.join("，")))};var i=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if(t.length>a){var l=t[a],o=n.findIndex(function(e){return e.value==l.toString()});r=r.concat([n[o].label]);var i=e(t,n[o].children,++a);r=r.concat(i)}return r}},eW5Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n("G+8T")),r=f(n("p02J")),l=f(n("cLmd")),o=f(n("dAt5")),i=f(n("Fo7F")),s=n("cDcd"),u=f(s),d=f(n("uyrT")),c=f(n("x2NL"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.workflowState;return u.default.createElement("div",{className:c.default.ApprovedContent},u.default.createElement(m,{workflowState:n}),u.default.createElement(d.default,{data:t.filedValues}))}}]),t}(s.Component);t.default=p;var m=function(e){var t=e.workflowState;if(!t)return null;var n="iconfont ";switch(1*t){case 1:n+="icon-shenpizhong2 ";break;case 2:n+="icon-tongguo ";break;case 3:n+="icon-jujue "}return u.default.createElement("div",{className:n+c.default.workflowState})}},"f/Cs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n("pRfh")),r=g(n("clYf")),l=g(n("G+8T")),o=g(n("p02J")),i=g(n("cLmd")),s=g(n("dAt5")),u=g(n("Fo7F")),d=n("cDcd"),c=g(d),f=n("Lrpq"),p=g(n("7l6G")),m=g(n("gJnY")),A=g(n("APrv")),h=g(n("Kiz8")),v=g(n("a+zj"));function g(e){return e&&e.__esModule?e:{default:e}}g(n("LCs5")),f.List.Item.Brief;var E=function(e){function t(){var e,n,i,u,d,c,f=this;(0,o.default)(this,t);for(var p=arguments.length,m=Array(p),A=0;A<p;A++)m[A]=arguments[A];return n=i=(0,s.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(m))),i.state={counts:{},initialPage:0},i.handleChange=function(e,t){i.setState({initialPage:t})},i.handleCount=function(e,t){var n=i.state.counts;n[e]=t,i.setState({counts:n})},i.handleClick=(c=(0,r.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/detail/"+n+"?readState="+t.readState);case 1:case"end":return e.stop()}},e,f)})),function(e,t){return c.apply(this,arguments)}),i.handleSubmit=(d=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/zhoubao");case 1:case"end":return e.stop()}},e,f)})),function(e){return d.apply(this,arguments)}),u=n,(0,s.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.counts,e.initialPage);return c.default.createElement(p.default,null,c.default.createElement(f.NavBar,{mode:"light",icon:c.default.createElement(A.default,null),rightContent:c.default.createElement("span",{onClick:this.handleSubmit},"写周报")},"周报"),c.default.createElement(m.default,null,c.default.createElement(f.Tabs,{tabs:[{title:"抄送给我的",sub:"0"},{title:"我的周报",sub:"1"}],initialPage:t,onChange:this.handleChange},c.default.createElement(h.default,{key:0,index:0,cur:t,formCode:"form-zhoubao-1",onClick:this.handleClick,onCount:this.handleCount}),c.default.createElement(v.default,{key:1,index:1,cur:t,formCode:"form-zhoubao-1",onClick:this.handleClick,onCount:this.handleCount}))))}}]),t}(d.Component);t.default=E},"fp/F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n("NbhV")),r=l(n("jpiG"));function l(e){return e&&e.__esModule?e:{default:e}}var o=(0,a.default)(r.default).withConfig({displayName:"LazyWarperView"})(["height:100%;width:100%;position:relative;overflow-y:auto;flex:1;"]);t.default=o},gFmw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n("pRfh")),r=g(n("clYf")),l=g(n("G+8T")),o=g(n("p02J")),i=g(n("cLmd")),s=g(n("dAt5")),u=g(n("Fo7F")),d=n("cDcd"),c=g(d),f=n("Lrpq"),p=g(n("7l6G")),m=g(n("gJnY")),A=g(n("APrv")),h=g(n("Kiz8")),v=g(n("a+zj"));function g(e){return e&&e.__esModule?e:{default:e}}g(n("LCs5")),f.List.Item.Brief;var E=function(e){function t(){var e,n,i,u,d,c,f=this;(0,o.default)(this,t);for(var p=arguments.length,m=Array(p),A=0;A<p;A++)m[A]=arguments[A];return n=i=(0,s.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(m))),i.state={counts:{},initialPage:0},i.handleChange=function(e,t){i.setState({initialPage:t})},i.handleCount=function(e,t){var n=i.state.counts;n[e]=t,i.setState({counts:n})},i.handleClick=(c=(0,r.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/detail/"+n+"?readState="+t.readState);case 1:case"end":return e.stop()}},e,f)})),function(e,t){return c.apply(this,arguments)}),i.handleSubmit=(d=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/bmjh");case 1:case"end":return e.stop()}},e,f)})),function(e){return d.apply(this,arguments)}),u=n,(0,s.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.counts,e.initialPage);return c.default.createElement(p.default,null,c.default.createElement(f.NavBar,{mode:"light",icon:c.default.createElement(A.default,null),rightContent:c.default.createElement("span",{onClick:this.handleSubmit},"写计划")},"部门计划"),c.default.createElement(m.default,null,c.default.createElement(f.Tabs,{tabs:[{title:"抄送给我的",sub:"0"},{title:"我的部门计划",sub:"1"}],initialPage:t,onChange:this.handleChange},c.default.createElement(h.default,{key:0,index:0,cur:t,formCode:"form-bmjh-1",onClick:this.handleClick,onCount:this.handleCount}),c.default.createElement(v.default,{key:1,index:1,cur:t,formCode:"form-bmjh-1",onClick:this.handleClick,onCount:this.handleCount}))))}}]),t}(d.Component);t.default=E},hUmK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=m(n("G+8T")),r=m(n("p02J")),l=m(n("cLmd")),o=m(n("dAt5")),i=m(n("Fo7F")),s=n("cDcd"),u=m(s),d=n("8LOv"),c=n("Lrpq"),f=m(n("7l6G")),p=m(n("gJnY"));function m(e){return e&&e.__esModule?e:{default:e}}c.List.Item;var A=function(e){function t(e){(0,r.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.setting=function(){YSSJ.setting()},n.state={},n}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.match;return u.default.createElement(f.default,null,u.default.createElement(c.NavBar,{mode:"light",icon:u.default.createElement(c.Icon,{type:"left",size:"lg"}),onLeftClick:function(){return window.history.back()}},"审批"),u.default.createElement(p.default,null,u.default.createElement(c.Button,{onClick:this.setting},"设置"),u.default.createElement("div",null,u.default.createElement(d.Link,{to:"/approved"},"审批列表")),u.default.createElement("div",null,u.default.createElement(d.Link,{to:e.url+"/chuchai"},"出差"))))}}]),t}(s.Component);t.default=A},iN36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n("G+8T")),r=c(n("p02J")),l=c(n("cLmd")),o=c(n("dAt5")),i=c(n("Fo7F")),s=n("cDcd"),u=c(s),d=c(n("HXPI"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.users;return u.default.createElement("div",{className:d.default.departments},u.default.createElement("div",{className:d.default.title},"抄送人"),u.default.createElement("div",null,e.map(function(e,t){return u.default.createElement("div",{key:t,className:d.default.steps},u.default.createElement("div",{className:d.default.userdetail},u.default.createElement("div",{className:d.default.avatar},e.userName.slice(-2)),u.default.createElement("div",{className:d.default.username},e.userName)))})))}}]),t}(s.Component);t.default=f},jpiG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,l=f(n("G+8T")),o=f(n("p02J")),i=f(n("cLmd")),s=f(n("dAt5")),u=f(n("Fo7F")),d=n("cDcd"),c=f(d);function f(e){return e&&e.__esModule?e:{default:e}}var p=(r=a=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.handleScroll=function(){var e=new Date;if(!(n.startTime&&e-n.startTime<n.props.delaytime)){n.startTime=e;var t={scrollTop:n.lazyWarper.scrollTop,warperHeight:n.lazyWarper.getBoundingClientRect().height};n.props.onScroll&&n.props.onScroll(t)}},n.handleTouchStart=function(e){var t=e.touches[0]||e;n._startX=t.pageX,n._startY=t.pageY},n.handleTouchMove=function(e){var t=e.touches[0]||e,a=t.pageX-n._startX,r=t.pageY-n._startY;0==n.moveXY&&(Math.abs(a)>Math.abs(r)?n.moveXY=1:n.moveXY=2),1==n.moveXY?n.lazyWarper.style.overflowY="hidden":e.stopPropagation()},n.handleTouchEnd=function(e){n.lazyWarper.style.overflowY="auto",n.moveXY=0},n.startTime=null,n.moveXY=0,n}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.scrollTop&&(this.lazyWarper.scrollTop=this.props.scrollTop,this.handleScroll())}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{ref:function(t){return e.lazyWarper=t},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onScroll:this.handleScroll,style:this.props.style,className:this.props.className},this.props.children)}}]),t}(d.Component),a.defaultProps={delaytime:20,scrollTop:0},r);t.default=p},mIaZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,l,o,i,s,u=T(n("pRfh")),d=T(n("clYf")),c=T(n("G+8T")),f=T(n("p02J")),p=T(n("cLmd")),m=T(n("dAt5")),A=T(n("Fo7F")),h=n("cDcd"),v=T(h),g=n("Lrpq"),E=T(n("7l6G")),_=T(n("gJnY")),C=T(n("APrv")),B=T(n("SU3N")),b=T(n("FI4c")),w=T(n("2Jj9")),y=T(n("bCfC")),k=T(n("fp/F")),x=T(n("V61l")),S=T(n("ypVV")),I=T(n("y6sx")),N=T(n("HHts")),z=n("rRcN");function T(e){return e&&e.__esModule?e:{default:e}}var L=g.List.Item,M=L.Brief,R={ribao:"日志",zhoubao:"周报",yuebao:"月报",grjh:"个人计划",bmjh:"部门计划"},j=(0,z.contextConsumers)(function(e){return{initialPage:e.getIn(["init","initialPageCopys"])}})((l=r=function(e){function t(){var e,n,a,r,l,o,i=this;(0,f.default)(this,t);for(var s=arguments.length,p=Array(s),A=0;A<s;A++)p[A]=arguments[A];return n=a=(0,m.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(p))),a.state={counts:{}},a.handleChange=function(e,t){a.props.dispatch.setIn(["init","initialPageCopys"],t)},a.handleCount=function(e,t){var n=a.state.counts;n[e]=t,a.setState({counts:n})},a.handleClick=(o=(0,d.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push("/approved/detail/"+t.businessId+"?readState="+t.readState);case 1:case"end":return e.stop()}},e,i)})),function(e){return o.apply(this,arguments)}),a.handleSubmit=(l=(0,d.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.match.params.moduleId,a.props.history.push("/approved/"+n);case 2:case"end":return e.stop()}},e,i)})),function(e){return l.apply(this,arguments)}),r=n,(0,m.default)(a,r)}return(0,A.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.moduleId;if(!R[t])return v.default.createElement(E.default,null,v.default.createElement(g.NavBar,{mode:"light",icon:v.default.createElement(C.default,null)},"模块不存在"),v.default.createElement(_.default,null,v.default.createElement(I.default,null,"模块不存在")));var n=this.props.initialPage,a=(this.state.counts,[{title:"抄送给我的",sub:"0"},{title:"我的日志",sub:"1"}]);return v.default.createElement(E.default,null,v.default.createElement(g.NavBar,{mode:"light",icon:v.default.createElement(C.default,null),rightContent:v.default.createElement("span",{onClick:this.handleSubmit},"写",R[t])},R[t]),v.default.createElement(_.default,null,v.default.createElement(g.Tabs,{tabs:a,initialPage:n,onChange:this.handleChange},a&&a.map(function(t,a){return v.default.createElement(Y,{key:a,index:a,cur:n,onClick:e.handleClick,onCount:e.handleCount})}))))}}]),t}(h.Component),r.defaultProps={initialPage:0},a=l))||a;t.default=j;var Y=(i=o=function(e){function t(e){(0,f.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return s.call(n),n.state={data:[],loading:!0,page:1,hasNext:!0},n.loading=!1,n}return(0,A.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.handleinitReq(this.props,!0)}},{key:"componentWillReceiveProps",value:function(e){this.handleinitReq(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,a=(t.index,this.state),r=a.data,l=a.hasNext,o=a.loading;return v.default.createElement(y.default,null,v.default.createElement(k.default,{onScroll:this.handleScroll},v.default.createElement(g.List,null,r.length>0?r.map(function(e){var t=e.ccUserName||e.userName||"";return v.default.createElement(L,{key:e.businessId,arrow:"horizontal",className:N.default.Item,thumb:v.default.createElement(x.default,null,t.slice(0,1)),multipleLine:!0,onClick:n.bind(null,e)},v.default.createElement("div",null,e.ccTitle),v.default.createElement(M,null,v.default.createElement("div",null,"申请时间：",v.default.createElement(B.default,{time:e.createTime})),v.default.createElement("div",null,"抄送时间：",v.default.createElement(B.default,{time:e.ccTime})),"N"==e.readState?v.default.createElement(S.default,{disabled:!0},"未读"):v.default.createElement(S.default,null,"已读")))}):v.default.createElement(L,null,v.default.createElement(w.default,null,"暂无数据"))),v.default.createElement("div",{ref:function(t){return e.load=t}}),l?!o&&v.default.createElement(b.default,{onClick:this.handleReq},"更多数据加载中..."):r.length>0&&v.default.createElement(b.default,null,"没有更多数据了")))}}]),t}(h.Component),o.defaultProps={pageSize:10},s=function(){var e,t=this;this.handleinitReq=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.cur;(e.index==a||n)&&t.handleReq(0,[],!0)},this.handleScroll=function(e){t.load.getBoundingClientRect().top<window.screen.height+100&&t.handleReq()},this.handleReq=(e=(0,d.default)(u.default.mark(function e(){var n,a,r,l,o,i,s,d,c,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.page,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.data,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.state.hasNext;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,n=t.props,a=n.index,r=n.pageSize,l=n.onCount,f+=1,o={userId:localStorage.userId,uid:localStorage.userId,pageNo:f,pageSize:r,orgid:localStorage.organizationId},1==a?o.readState="N":2==a&&(o.readState="Y"),e.next=11,Request("cc/getCcList",{params:o});case 11:(i=e.sent).success&&(s=i.data.page,d=s.list,c=s.count,p=p.concat(d),t.setState({data:p,page:f,loading:!1,count:c,hasNext:d.length>0&&d.length>r-1}),1==a&&l&&l(1,p.length)),t.loading=!1;case 14:case"end":return e.stop()}},e,t)})),function(){return e.apply(this,arguments)})},i)},mzQb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=A(n("G+8T")),l=A(n("p02J")),o=A(n("cLmd")),i=A(n("dAt5")),s=A(n("Fo7F")),u=n("cDcd"),d=A(u),c=n("8LOv"),f=A(n("fqwA")),p=A(n("APrv")),m=A(n("aapH"));function A(e){return e&&e.__esModule?e:{default:e}}var h=(0,n("rRcN").contextConsumers)(function(e){return{query:e.query}})(a=(0,c.withRouter)(a=function(e){function t(){var e,n,a,o;(0,l.default)(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=a=(0,i.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(u))),a.handleShowOrgCpt=function(){var e=a.props,t=e.match;e.history.push(t.url+"?user=true")},a.handleHandOver=function(e){window.history.back();var t=a.props,n=t.history,r=t.match,l=t.formRecordVo,o=a.props.workflowVo.approvers,i=o[o.findIndex(function(e){return e.approverId==localStorage.userId&&1==e.approveState})].approveId;n.push({pathname:r.url+"/attitude",state:{action:2,ApprovedId:i,user:e,recordId:l.id}})},o=n,(0,i.default)(a,o)}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.formRecordVo,n=e.query,a=this.props.workflowVo.approvers,r=a.findIndex(function(e){return e.approverId==localStorage.userId&&1==e.approveState});if(-1==r)return null;var l=this.props.match,o=l.url,i=(l.params,a[r].approveId);return d.default.createElement("div",{className:m.default.footer},d.default.createElement(c.Link,{className:m.default.action,to:{pathname:o+"/attitude",state:{action:0,ApprovedId:i,recordId:t.id}}},"同意"),d.default.createElement(c.Link,{className:m.default.action,to:{pathname:o+"/attitude",state:{action:1,ApprovedId:i,recordId:t.id}}},"拒绝"),d.default.createElement("div",{className:m.default.action,onSelected:this.handleShowOrgCpt},"转交"),n.user&&d.default.createElement(f.default,{onClickUser:this.handleHandOver,multiple:!1},function(){return d.default.createElement(NavBar,{mode:"light",icon:d.default.createElement(p.default,null)},"选择转交人员")}))}}]),t}(u.Component))||a)||a;t.default=h},noea:function(e,t,n){var a=n("sXkW");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},"p+gd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=w(n("pRfh")),l=w(n("clYf")),o=w(n("G+8T")),i=w(n("p02J")),s=w(n("cLmd")),u=w(n("dAt5")),d=w(n("Fo7F")),c=n("cDcd"),f=w(c),p=n("8LOv"),m=n("Lrpq"),A=w(n("7l6G")),h=w(n("gJnY")),v=w(n("1w8a")),g=w(n("eW5Q")),E=w(n("LN/a")),_=w(n("iN36")),C=w(n("/zxI")),B=w(n("mzQb")),b=w(n("D0Sn"));function w(e){return e&&e.__esModule?e:{default:e}}var y=(0,n("rRcN").contextConsumers)(function(e){return{ApprovedDetailReolad:e.getIn(["init","ApprovedDetailReolad"])||!1}})(a=function(e){function t(e){var n=this;(0,i.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleChangeStatus=(0,l.default)(r.default.mark(function e(){var t,l,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,l=t.location,o=t.match,"N"==(0,v.default)(l.search,"readState")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Request("cc/read",{method:"post",data:{businessId:o.params.ApprovedId,userId:localStorage.userId,orgId:localStorage.organizationId}});case 6:e.sent;case 7:case"end":return e.stop()}},e,n)})),a.handleReqData=(0,l.default)(r.default.mark(function e(){var t,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match,m.Toast.loading("数据加载中...",0,"",!1),a.props.dispatch.setIn(["init","ApprovedDetailReolad"],!1),e.next=5,Request("form/select",{params:{id:t.params.ApprovedId}});case 5:(l=e.sent).success?(a.setState({detail:l.data.formView}),m.Toast.hide()):m.Toast.info(l.message,2);case 7:case"end":return e.stop()}},e,n)})),a.state={detail:{}},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){this.handleReqData(),this.handleChangeStatus()}},{key:"componentWillReceiveProps",value:function(e){e.ApprovedDetailReolad&&this.handleReqData()}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.match,a=this.state.detail,r=a.formRecordVo,l=a.userVos,o=a.workflowVo,i=o&&o.workflowState,s=r&&r.form.formName||"审批";return f.default.createElement(A.default,null,f.default.createElement(m.NavBar,{mode:"light",icon:f.default.createElement(m.Icon,{type:"left",size:"lg"}),onLeftClick:function(){return window.history.back()}},s),f.default.createElement(h.default,null,r&&f.default.createElement(C.default,{formRecordVo:r}),r&&f.default.createElement(g.default,{content:r,workflowState:i}),o&&f.default.createElement(E.default,{formRecordVo:r,workflowVo:o}),l&&f.default.createElement(_.default,{users:l})),o&&f.default.createElement(B.default,{workflowVo:o,formRecordVo:r}),f.default.createElement(p.Switch,{location:t},f.default.createElement(p.Route,{path:n.url+"/attitude",exact:!0,component:b.default})))}}]),t}(c.Component))||a;t.default=y},ppgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n("pRfh")),r=g(n("clYf")),l=g(n("G+8T")),o=g(n("p02J")),i=g(n("cLmd")),s=g(n("dAt5")),u=g(n("Fo7F")),d=n("cDcd"),c=g(d),f=n("Lrpq"),p=g(n("7l6G")),m=g(n("gJnY")),A=g(n("APrv")),h=g(n("Kiz8")),v=g(n("a+zj"));function g(e){return e&&e.__esModule?e:{default:e}}g(n("LCs5")),f.List.Item.Brief;var E=function(e){function t(){var e,n,i,u,d,c,f=this;(0,o.default)(this,t);for(var p=arguments.length,m=Array(p),A=0;A<p;A++)m[A]=arguments[A];return n=i=(0,s.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(m))),i.state={counts:{},initialPage:0},i.handleChange=function(e,t){i.setState({initialPage:t})},i.handleCount=function(e,t){var n=i.state.counts;n[e]=t,i.setState({counts:n})},i.handleClick=(c=(0,r.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/detail/"+n+"?readState="+t.readState);case 1:case"end":return e.stop()}},e,f)})),function(e,t){return c.apply(this,arguments)}),i.handleSubmit=(d=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.props.history.push("/approved/ribao");case 1:case"end":return e.stop()}},e,f)})),function(e){return d.apply(this,arguments)}),u=n,(0,s.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.counts,e.initialPage);return c.default.createElement(p.default,null,c.default.createElement(f.NavBar,{mode:"light",icon:c.default.createElement(A.default,null),rightContent:c.default.createElement("span",{onClick:this.handleSubmit},"写日志")},"日志"),c.default.createElement(m.default,null,c.default.createElement(f.Tabs,{tabs:[{title:"抄送给我的",sub:"0"},{title:"我的日志",sub:"1"}],initialPage:t,onChange:this.handleChange},c.default.createElement(h.default,{key:0,index:0,cur:t,formCode:"form-ribao-1",onClick:this.handleClick,onCount:this.handleCount}),c.default.createElement(v.default,{key:1,index:1,cur:t,formCode:"form-ribao-1",onClick:this.handleClick,onCount:this.handleCount}))))}}]),t}(d.Component);t.default=E},sXkW:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedSteps_steps_2vqi3 {\n  background: #fff;\n  padding: 0.2rem 0;\n  margin: 0.1rem 0; }\n  .ApprovedSteps_steps_2vqi3 .am-steps-item-title {\n    width: 100%; }\n\n.ApprovedSteps_title_1XwSa {\n  display: flex;\n  font-size: 0.16rem;\n  font-weight: normal;\n  width: 100%; }\n\n.ApprovedSteps_username_3VU66 {\n  margin-right: 0.05rem; }\n\n.ApprovedSteps_action_3OUY9,\n.ApprovedSteps_actionagree_UtEGH,\n.ApprovedSteps_actionwait_2PAf7 {\n  flex: 1; }\n\n.ApprovedSteps_actionagree_UtEGH {\n  color: #16c2c2; }\n\n.ApprovedSteps_actionwait_2PAf7 {\n  color: #f00; }\n\n.ApprovedSteps_time_IBubG {\n  font-size: 0.13rem;\n  color: #666; }\n\n.ApprovedSteps_stepsicon_vMBsd {\n  background: #108ee9;\n  color: #fff;\n  width: 0.22rem;\n  height: 0.22rem;\n  display: block;\n  font-size: 0.12rem;\n  border-radius: 0.22rem;\n  line-height: 0.22rem; }\n\n.ApprovedSteps_description_xHXSm {\n  padding: 0.1rem 0; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Approved/Components/ApprovedSteps.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,kBAAkB;EAClB,iBAAiB,EAAE;EACnB;IACE,YAAY,EAAE;;AAElB;EACE,cAAc;EACd,mBAAmB;EACnB,oBAAoB;EACpB,YAAY,EAAE;;AAEhB;EACE,sBAAsB,EAAE;;AAE1B;;;EAGE,QAAQ,EAAE;;AAEZ;EACE,eAAe,EAAE;;AAEnB;EACE,YAAY,EAAE;;AAEhB;EACE,mBAAmB;EACnB,YAAY,EAAE;;AAEhB;EACE,oBAAoB;EACpB,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,uBAAuB;EACvB,qBAAqB,EAAE;;AAEzB;EACE,kBAAkB,EAAE",file:"ApprovedSteps.scss",sourcesContent:[".steps {\n  background: #fff;\n  padding: 0.2rem 0;\n  margin: 0.1rem 0; }\n  .steps :global(.am-steps-item-title) {\n    width: 100%; }\n\n.title {\n  display: flex;\n  font-size: 0.16rem;\n  font-weight: normal;\n  width: 100%; }\n\n.username {\n  margin-right: 0.05rem; }\n\n.action,\n.actionagree,\n.actionwait {\n  flex: 1; }\n\n.actionagree {\n  color: #16c2c2; }\n\n.actionwait {\n  color: #f00; }\n\n.time {\n  font-size: 0.13rem;\n  color: #666; }\n\n.stepsicon {\n  background: #108ee9;\n  color: #fff;\n  width: 0.22rem;\n  height: 0.22rem;\n  display: block;\n  font-size: 0.12rem;\n  border-radius: 0.22rem;\n  line-height: 0.22rem; }\n\n.description {\n  padding: 0.1rem 0; }\n"],sourceRoot:""}]),t.locals={steps:"ApprovedSteps_steps_2vqi3",title:"ApprovedSteps_title_1XwSa",username:"ApprovedSteps_username_3VU66",action:"ApprovedSteps_action_3OUY9",actionagree:"ApprovedSteps_actionagree_UtEGH",actionwait:"ApprovedSteps_actionwait_2PAf7",time:"ApprovedSteps_time_IBubG",stepsicon:"ApprovedSteps_stepsicon_vMBsd",description:"ApprovedSteps_description_xHXSm"}},t2xA:function(e,t,n){var a=n("0uRl");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},uB8n:function(e,t,n){e.exports={default:n("AEAa"),__esModule:!0}},uyrT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n("KN1l")),r=c(n("cDcd")),l=(n("Lrpq"),c(n("Oiex"))),o=c(n("x4Cq")),i=c(n("eVJh")),s=c(n("BdkL")),u=c(n("0TTV")),d=c(n("WgM/"));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.data;return r.default.createElement("div",{className:d.default.warper,title:t.formName},t.map(function(e,t){var n=(0,a.default)({},e,{key:e.filedId});switch(e.filedType){case"text":case"number":case"textarea":return r.default.createElement(l.default,n);case"images":return r.default.createElement(s.default,n);case"attachment":return r.default.createElement(u.default,n);case"singlepicker":return r.default.createElement(l.default,n);case"pickercity":return r.default.createElement(i.default,n);case"datepicker":return r.default.createElement(o.default,n);case"WhiteSpace":return null;default:return r.default.createElement(l.default,n)}}))}},"wzs/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n("cDcd")),r=n("8LOv"),l=(p(n("mIaZ")),p(n("ppgf"))),o=p(n("f/Cs")),i=p(n("Abqv")),s=p(n("eJDu")),u=p(n("gFmw")),d=p(n("p+gd")),c=p(n("EZ/7")),f=p(n("hUmK"));function p(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.location,n=e.match;return a.default.createElement(r.Switch,{location:t},a.default.createElement(r.Route,{path:n.url+"/list/ribao",component:l.default}),a.default.createElement(r.Route,{path:n.url+"/list/zhoubao",component:o.default}),a.default.createElement(r.Route,{path:n.url+"/list/yuebao",component:i.default}),a.default.createElement(r.Route,{path:n.url+"/list/grjh",component:s.default}),a.default.createElement(r.Route,{path:n.url+"/list/bmjh",component:u.default}),a.default.createElement(r.Route,{path:n.url+"/detail/:ApprovedId",component:d.default}),a.default.createElement(r.Route,{path:n.url+"/:moduleId",exact:!0,component:c.default}),a.default.createElement(r.Route,{path:n.url,exact:!0,component:f.default}))}},x2NL:function(e,t,n){var a=n("30OF");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},x4Cq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("cDcd")),r=o(n("CbeQ")),l=o(n("Xg5y"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement(r.default,{title:e.filedTitle},a.default.createElement(l.default,{time:e.filedValue}))}},y6sx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("cDcd"));function r(e){return e&&e.__esModule?e:{default:e}}var l=r(n("NbhV")).default.div.withConfig({displayName:"NomatchView__Nomatch"})(["padding:0.15rem;font-size:0.26rem;text-align:center;flex:1;"]);t.default=function(e){var t=e.children,n=void 0===t?"404":t;return a.default.createElement(l,null,n)}},ypVV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"StatusView"})(["color:",";"],function(e){return e.disabled?"#f00":"green"});t.default=r}}]);