(window.webpackJsonp=window.webpackJsonp||[]).push([[11,13],{"+OKP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n("G+8T")),r=f(n("p02J")),o=f(n("cLmd")),i=f(n("dAt5")),l=f(n("Fo7F")),s=n("cDcd"),u=f(s),c=n("Lrpq"),d=(f(n("95NG")),f(n("aAWz")));function f(e){return e&&e.__esModule?e:{default:e}}var p=c.Steps.Step,A=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.bul,n=e.workflowVo.approvers,a=n.findIndex(function(e){return 1==e.approveState}),r=a+1;return-1==a&&(r=n.length+1),u.default.createElement("div",{className:d.default.steps},u.default.createElement(c.WingBlank,null,u.default.createElement(c.Steps,{current:r},u.default.createElement(p,{title:u.default.createElement("div",{className:d.default.title},u.default.createElement("span",{className:d.default.username},t.publisherName),u.default.createElement("span",{className:d.default.action},"发起申请"),u.default.createElement("span",{className:d.default.time},t.writeTime)),icon:u.default.createElement("span",{className:d.default.stepsicon},t.publisherName&&t.publisherName.slice(0))}),n.map(function(e,t){return u.default.createElement(p,{key:t,title:u.default.createElement("div",{className:d.default.title},u.default.createElement("span",{className:d.default.username},e.approverName),u.default.createElement("span",{className:1==e.approveState?d.default.actionwait:d.default.actionagree},e.approveStateName),u.default.createElement("span",{className:d.default.time},e.approveTime)),description:u.default.createElement("div",{className:d.default.description},e.approveOpinion),icon:u.default.createElement("span",{className:d.default.stepsicon},e.approverName.slice(0))})}))))}}]),t}(s.Component);t.default=A},"1w8a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.split("?"),a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),r=n[1]?n[1].match(a):null;return null!=r?unescape(r[2]):null}},"2Jj9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"NoDataView__NoData"})(["display:flex;align-items:center;justify-content:center;height:1rem;color:#666;"]);t.default=r},"3Jyt":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".TextEditor_texta_3a9Dv {\n  background: #fff;\n  min-height: 0.66rem;\n  line-height: 0.22rem;\n  font-size: 0.15rem;\n  padding: 0.1rem 0.15rem; }\n  .TextEditor_texta_3a9Dv div {\n    min-height: 0.22rem; }\n  .TextEditor_texta_3a9Dv img {\n    text-align: center;\n    display: block;\n    margin: 0 auto;\n    max-width: 100%; }\n","",{version:3,sources:["E:/www/webpack4/src/Libs/Components/TextEditor/TextEditor.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,oBAAoB;EACpB,qBAAqB;EACrB,mBAAmB;EACnB,wBAAwB,EAAE;EAC1B;IACE,oBAAoB,EAAE;EACxB;IACE,mBAAmB;IACnB,eAAe;IACf,eAAe;IACf,gBAAgB,EAAE",file:"TextEditor.scss",sourcesContent:[".texta {\n  background: #fff;\n  min-height: 0.66rem;\n  line-height: 0.22rem;\n  font-size: 0.15rem;\n  padding: 0.1rem 0.15rem; }\n  .texta div {\n    min-height: 0.22rem; }\n  .texta img {\n    text-align: center;\n    display: block;\n    margin: 0 auto;\n    max-width: 100%; }\n"],sourceRoot:""}]),t.locals={texta:"TextEditor_texta_3a9Dv"}},"4MwV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=m(n("pRfh")),r=m(n("clYf")),o=m(n("G+8T")),i=m(n("p02J")),l=m(n("cLmd")),s=m(n("dAt5")),u=m(n("Fo7F")),c=n("cDcd"),d=m(c),f=n("Lrpq"),p=m(n("7l6G")),A=m(n("gJnY"));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e=this;(0,i.default)(this,t);var n,l=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return l.handleChange=function(e){l.setState({approveOpinion:e})},l.handleSubmit=function(){var e=l.props.location.state.action;l.setState({loading:!0}),0==e?l.handleAgree(!0):1==e?l.handleAgree(!1):2==e&&l.handleHandOver()},l.handleAgree=(n=(0,r.default)(a.default.mark(function t(n){var r,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.props.location.state,o=l.state.approveOpinion,e.next=4,Request.post("bulletinApproval/bulletinDoApprove",{circulationID:r.ApprovedId,approveResult:n,approveOpinion:o,userId:localStorage.userId,recordId:r.recordId});case 4:i=e.sent,l.setState({loading:!1}),i.success&&(store.dispatch("init/save",{ApprovedDetailReolad:!0}),window.history.back()),f.Toast.info(i.message,2);case 8:case"end":return e.stop()}},t,e)})),function(e){return n.apply(this,arguments)}),l.handleHandOver=(0,r.default)(a.default.mark(function t(){var n,r,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.props.location.state,r=l.state.approveOpinion,e.next=4,Request.post("bulletinApproval/bulletinApproveCare",{circulationID:n.ApprovedId,uid:n.user.userId,approveOpinion:r,recordId:n.recordId});case 4:o=e.sent,l.setState({loading:!1}),o.success&&(store.dispatch("init/save",{ApprovedDetailReolad:!0}),window.history.back()),f.Toast.info(o.message,2);case 8:case"end":return e.stop()}},t,e)})),l.state={approveOpinion:"",loading:!1},l}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,n=e.location,a=n.pathname.split("/");a=a.slice(0,a.length-1).join("/"),n.state||t.replace(a)}},{key:"render",value:function(){var e=this.props.location.state;if(!e)return null;var t="审批意见";2==e.action&&(t="转交给"+e.user.personname);var n=this.state.loading;return d.default.createElement(p.default,null,d.default.createElement(f.NavBar,{mode:"light",icon:d.default.createElement(f.Icon,{type:"left",size:"lg"}),onLeftClick:function(){return window.history.back()}},t),d.default.createElement(A.default,null,d.default.createElement(f.WhiteSpace,null),d.default.createElement(f.TextareaItem,{placeholder:"请输入",rows:5,count:100,onChange:this.handleChange}),d.default.createElement(f.WhiteSpace,null),d.default.createElement(f.WingBlank,null,d.default.createElement(f.Button,{type:"primary",loading:n,onClick:this.handleSubmit},"提交"))))}}]),t}(c.Component);t.default=h},"4ico":function(e,t,n){var a=n("lCXb");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},"820o":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedSteps_steps_1E7cy {\n  background: #fff;\n  padding: 0.2rem 0;\n  margin: 0.1rem 0; }\n  .ApprovedSteps_steps_1E7cy .am-steps-item-title {\n    width: 100%; }\n\n.ApprovedSteps_title_-860E {\n  display: flex;\n  font-size: 0.16rem;\n  font-weight: normal;\n  width: 100%; }\n\n.ApprovedSteps_username_2tqQf {\n  margin-right: 0.05rem; }\n\n.ApprovedSteps_action_2ntUL,\n.ApprovedSteps_actionagree_3xlrz,\n.ApprovedSteps_actionwait_AWtpV {\n  flex: 1; }\n\n.ApprovedSteps_actionagree_3xlrz {\n  color: #16c2c2; }\n\n.ApprovedSteps_actionwait_AWtpV {\n  color: #f00; }\n\n.ApprovedSteps_time_g1LK0 {\n  font-size: 0.13rem;\n  color: #666; }\n\n.ApprovedSteps_stepsicon_22uYA {\n  background: #108ee9;\n  color: #fff;\n  width: 0.22rem;\n  height: 0.22rem;\n  display: block;\n  font-size: 0.12rem;\n  border-radius: 0.22rem;\n  line-height: 0.22rem; }\n\n.ApprovedSteps_description_3C71J {\n  padding: 0.1rem 0; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Notice/Components/ApprovedSteps.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,kBAAkB;EAClB,iBAAiB,EAAE;EACnB;IACE,YAAY,EAAE;;AAElB;EACE,cAAc;EACd,mBAAmB;EACnB,oBAAoB;EACpB,YAAY,EAAE;;AAEhB;EACE,sBAAsB,EAAE;;AAE1B;;;EAGE,QAAQ,EAAE;;AAEZ;EACE,eAAe,EAAE;;AAEnB;EACE,YAAY,EAAE;;AAEhB;EACE,mBAAmB;EACnB,YAAY,EAAE;;AAEhB;EACE,oBAAoB;EACpB,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,uBAAuB;EACvB,qBAAqB,EAAE;;AAEzB;EACE,kBAAkB,EAAE",file:"ApprovedSteps.scss",sourcesContent:[".steps {\n  background: #fff;\n  padding: 0.2rem 0;\n  margin: 0.1rem 0; }\n  .steps :global(.am-steps-item-title) {\n    width: 100%; }\n\n.title {\n  display: flex;\n  font-size: 0.16rem;\n  font-weight: normal;\n  width: 100%; }\n\n.username {\n  margin-right: 0.05rem; }\n\n.action,\n.actionagree,\n.actionwait {\n  flex: 1; }\n\n.actionagree {\n  color: #16c2c2; }\n\n.actionwait {\n  color: #f00; }\n\n.time {\n  font-size: 0.13rem;\n  color: #666; }\n\n.stepsicon {\n  background: #108ee9;\n  color: #fff;\n  width: 0.22rem;\n  height: 0.22rem;\n  display: block;\n  font-size: 0.12rem;\n  border-radius: 0.22rem;\n  line-height: 0.22rem; }\n\n.description {\n  padding: 0.1rem 0; }\n"],sourceRoot:""}]),t.locals={steps:"ApprovedSteps_steps_1E7cy",title:"ApprovedSteps_title_-860E",username:"ApprovedSteps_username_2tqQf",action:"ApprovedSteps_action_2ntUL",actionagree:"ApprovedSteps_actionagree_3xlrz",actionwait:"ApprovedSteps_actionwait_AWtpV",time:"ApprovedSteps_time_g1LK0",stepsicon:"ApprovedSteps_stepsicon_22uYA",description:"ApprovedSteps_description_3C71J"}},"8AX4":function(e,t,n){"use strict";function a(e){this.Valid=!1,this.ID15="",this.ID18="",this.Local="",null!=e&&this.SetCardNo(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=(e.name,e.title,e.ruleValue),r=e.message;if(n)return r=r||"请输入真实有效的身份证号",isNaN(1*t)?r:new a(t).IsValid()?void 0:r},a.prototype.SetCardNo=function(e){this.ID15="",this.ID18="",this.Local="";var t=void 0;if(18==(e=e.replace(" ","")).length){if(null==/^\d{17}(\d|x|X)$/.exec(e))return;t=e.toUpperCase()}else{if(null==/^\d{15}$/.exec(e))return;t=e.substr(0,6)+"19"+e.substr(6,9),t+=this.GetVCode(t)}this.Valid=this.CheckValid(t)},a.prototype.IsValid=function(){return this.Valid},a.prototype.GetBirthDate=function(){var e="";return this.Valid&&(e=this.GetBirthYear()+"-"+this.GetBirthMonth()+"-"+this.GetBirthDay()),e},a.prototype.GetBirthYear=function(){var e="";return this.Valid&&(e=this.ID18.substr(6,4)),e},a.prototype.GetBirthMonth=function(){var e="";return this.Valid&&(e=this.ID18.substr(10,2)),"0"==e.charAt(0)&&(e=e.charAt(1)),e},a.prototype.GetBirthDay=function(){var e="";return this.Valid&&(e=this.ID18.substr(12,2)),e},a.prototype.GetSex=function(){var e="";return this.Valid&&(e=this.ID18.charAt(16)%2),e},a.prototype.Get15=function(){var e="";return this.Valid&&(e=this.ID15),e},a.prototype.Get18=function(){var e="";return this.Valid&&(e=this.ID18),e},a.prototype.GetLocal=function(){var e="";return this.Valid&&(e=this.Local),e},a.prototype.GetVCode=function(e){for(var t=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1),n=new Array("1","0","X","9","8","7","6","5","4","3","2"),a=0,r=0;r<e.length;r++)a+=e.charAt(r)*t[r];return n[a%11]},a.prototype.CheckValid=function(e){if(this.GetVCode(e.substr(0,17))!=e.charAt(17))return!1;if(!this.IsDate(e.substr(6,8)))return!1;var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};return null!=t[parseInt(e.substr(0,2))]&&(this.ID18=e,this.ID15=e.substr(0,6)+e.substr(8,9),this.Local=t[parseInt(e.substr(0,2))],!0)},a.prototype.IsDate=function(e){var t=e.match(/^(\d{1,4})(\d{1,2})(\d{1,2})$/);if(null==t)return!1;var n=new Date(t[1],t[2]-1,t[3]);return n.getFullYear()==t[1]&&n.getMonth()+1==t[2]&&n.getDate()==t[3]}},"8MpB":function(e,t,n){n("X7gU"),e.exports=n("ZV+L").Object.keys},"95NG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n("cDcd"))&&a.__esModule?a:{default:a};t.default=function(e){var t=e.time,n=new Date(parseInt(t)),a=n.getFullYear()+"-",o=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",i=n.getDate()+" ",l=n.getHours();l=l<10?"0"+l:l;var s=n.getMinutes();s=s<10?"0"+s:s;var u=n.getSeconds(),c=a+o+i+l+":"+s+":"+(u=u<10?"0"+u:u);return r.default.createElement("span",null,c)}},"9BuM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.approver.map(function(t){return t+"@"+e.organization});e.approver=t.join("#");var n=e.sendRangeList.map(function(t){return{userId:t,orgId:e.organization}});return e.sendRangeList=n,e}},"9KfI":function(e,t,n){var a=n("jWZp");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},"9p3o":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(r)return t instanceof Array?0==t.length?o=o||(a||n)+"不能为空":void 0:null==t||""==t?o=o||(a||n)+"不能为空":void 0}},AEAa:function(e,t,n){var a=n("ZV+L"),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},B49r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=m(n("G+8T")),o=m(n("p02J")),i=m(n("cLmd")),l=m(n("dAt5")),s=m(n("Fo7F")),u=n("cDcd"),c=m(u),d=n("8LOv"),f=m(n("fqwA")),p=m(n("APrv")),A=m(n("9KfI"));function m(e){return e&&e.__esModule?e:{default:e}}var h=(0,n("rRcN").contextConsumers)(function(e){return{query:e.query}})(a=(0,d.withRouter)(a=function(e){function t(){var e,n,a,i;(0,o.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(u))),a.handleShowOrgCpt=function(){var e=a.props,t=e.match;e.history.push(t.url+"?user=true")},a.handleHandOver=function(e){window.history.back();var t=a.props,n=t.history,r=t.match,o=a.props.workflowVo.approvers,i=o[o.findIndex(function(e){return e.approverId==localStorage.userId&&1==e.approveState})].approveId;n.push({pathname:r.url+"/attitude",state:{action:2,ApprovedId:i,user:e,recordId:r.params.id}})},i=n,(0,l.default)(a,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.workflowVo,t=e.approvers,n=e.query,a=t.findIndex(function(e){return e.approverId==localStorage.userId&&1==e.approveState});if(-1==a)return null;var r=this.props.match,o=r.url,i=r.params,l=t[a].approveId;return c.default.createElement("div",{className:A.default.footer},c.default.createElement(d.Link,{className:A.default.action,to:{pathname:o+"/attitude",state:{action:0,ApprovedId:l,recordId:i.id}}},"同意"),c.default.createElement(d.Link,{className:A.default.action,to:{pathname:o+"/attitude",state:{action:1,ApprovedId:l,recordId:i.id}}},"拒绝"),c.default.createElement("div",{className:A.default.action,onSelected:this.handleShowOrgCpt},"转交"),n.user&&c.default.createElement(f.default,{onClickUser:this.handleHandOver,multiple:!1},function(){return c.default.createElement(NavBar,{mode:"light",icon:c.default.createElement(p.default,null)},"选择转交人员")}))}}]),t}(u.Component))||a)||a;t.default=(0,d.withRouter)(h)},Bnhv:function(e,t,n){var a=n("VHRy");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},EUqZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(r)return t&&""!=t&&!/^[\u0391-\uFFE5]+$/.test(t)?o=o||(a||n)+"必须输入中文":void 0}},EuHC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(n("G+8T")),r=d(n("p02J")),o=d(n("cLmd")),i=d(n("dAt5")),l=d(n("Fo7F")),s=n("cDcd"),u=d(s),c=d(n("G1zx"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.workflowState;return u.default.createElement("div",{className:c.default.ApprovedContent},u.default.createElement(p,{workflowState:n}),u.default.createElement("div",{className:c.default.title},"【公告标题】",t.title),u.default.createElement("div",{className:c.default.content,dangerouslySetInnerHTML:{__html:t.content}}))}}]),t}(s.Component);t.default=f;var p=function(e){var t=e.workflowState;if(!t)return null;var n="iconfont ";switch(1*t){case 1:n+="icon-shenpizhong2 ";break;case 2:n+="icon-tongguo ";break;case 3:n+="icon-jujue "}return u.default.createElement("div",{className:n+c.default.workflowState})}},FI4c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"LoadMoreView__LoadMore"})(["text-align:center;line-height:0.44rem;color:#666;"]);t.default=r},G1zx:function(e,t,n){var a=n("gKJJ");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},K4PL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=A(n("uB8n")),r=A(n("pRfh")),o=A(n("clYf")),i=A(n("KN1l")),l=A(n("G+8T")),s=A(n("p02J")),u=A(n("cLmd")),c=A(n("dAt5")),d=A(n("Fo7F")),f=A(n("cDcd")),p=n("Lrpq");function A(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n,A;return n=t=function(t){function n(e){(0,s.default)(this,n);var t=(0,c.default)(this,(n.__proto__||(0,l.default)(n)).call(this,e));A.call(t);var a={cover:e.cover,width:e.width,height:e.height};return t.state={attachments:[].concat(JSON.parse(e.value)),files:{},value:[],params:(0,i.default)({},a,e.params)},t}return(0,d.default)(n,t),(0,u.default)(n,[{key:"render",value:function(){var t=this.state,n=t.attachments,a=t.value;return f.default.createElement(e,(0,i.default)({},this.props,{onFileChange:this.handleFileChange,onDel:this.handleDel,size:this.size,attachments:n,value:a}))}}]),n}(f.default.Component),t.defaultProps={value:"[]",image:!0,maxsize:AppConfig.maxUploadSize||307200,width:AppConfig.imgUploadWidth||1e3,height:AppConfig.imgUploadHeight||1e3,cover:AppConfig.imgCover||!1},A=function(){var e,t,n=this;this.handleFileChange=function(e){for(var t=n.props.image,a=e.target.files||e.dataTransfer.files,r=0;r<a.length;r++)t&&"image/gif"!==a[r].type?n.handleImageUpload(a[r]):n.handleFileUpload(a[r])},this.handleFileUpload=(e=(0,o.default)(r.default.mark(function e(t){var a,o,i,l,s,u,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state,o=a.attachments,i=a.files,l=o.length,i[l]=t,s=URL.createObjectURL(t),o.push({name:t.name,size:t.size,type:t.type,state:1,bloburl:s}),n.setState({attachments:o,files:i}),(u=new FormData).append("file",t),e.next=10,Request("businessResources/oneUpload",{method:"post",data:u});case 10:(c=e.sent).success&&"false"!=c.success?(o[l].state=3,o[l].path=c.url):(o[l].state=2,p.Toast.info(c.message)),n.setState({attachments:o}),n.handleChange({attachments:o});case 14:case"end":return e.stop()}},e,n)})),function(t){return e.apply(this,arguments)}),this.handleImageUpload=(t=(0,o.default)(r.default.mark(function e(t){var a,i,l,s,u,c,d,f;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.maxsize,!(t.size<a)){e.next=3;break}return e.abrupt("return",n.handleFileUpload(t));case 3:i=n.state,l=i.attachments,s=i.files,u=l.length,s[u]=t,c=URL.createObjectURL(t),l.push({name:t.name,size:t.size,type:t.type,state:1,bloburl:c}),n.setState({attachments:l,files:s}),d=new Image,(f=new FileReader).readAsDataURL(t),f.onload=(0,o.default)(r.default.mark(function e(){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=f.result,d.src=a,d.onload=(0,o.default)(r.default.mark(function e(){var a,o,i,s,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.convertImageToCanvas(d),o=a.toDataURL(),i=n.convertCanvasToBlob(o,t.type),(s=new FormData).append("file",i),e.next=7,Request("businessResources/base64ImageUploadByBinary",{method:"post",data:s});case 7:(c=e.sent).success?(l[u].state=3,l[u].path=c.data.map.url):(l[u].state=2,p.Toast.info(c.message)),n.setState({attachments:l}),n.handleChange({attachments:l});case 11:case"end":return e.stop()}},e,n)}));case 3:case"end":return e.stop()}},e,n)}));case 13:case"end":return e.stop()}},e,n)})),function(e){return t.apply(this,arguments)}),this.convertImageToCanvas=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.params,a=t.cover||!1,r=t.width||600,o=t.height||600,i=e.width,l=e.height,s=r/o,u=i/l,c=0,d=0,f=void 0,p=void 0,A=document.createElement("canvas");return a?(s>u?(f=r,p=r*l/i):(f=i*o/l,p=o),A.width=r,A.height=o,c=(r-f)/2,d=(o-p)/2):(s>u?f=(p=o)*u:p=(f=r)*l/i,A.width=f,A.height=p),A.getContext("2d").drawImage(e,0,0,e.width,e.height,c,d,f,p),A},this.convertCanvasToBlob=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n=e.split(",")[1];n=window.atob(n);for(var a=new Uint8Array(n.length),r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return new Blob([a],{type:t})},this.handleDel=function(e){e.stopPropagation();var t=e.target.dataset.index,a=n.state,r=a.attachments,o=a.files;r.splice(t,1),delete o[t],n.setState({attachments:r,files:o}),n.handleChange({attachments:r})},this.handleChange=function(e){var t=e.attachments,r=void 0===t?n.state.attachments:t,o=n.props,i=o.onChange,l=o.field,s=o.name,u=o.isone,c=[];r.map(function(e){3!=e.state&&e.state||c.push({size:e.size,name:e.name,type:e.type,path:e.path})}),u?n.setState({attachments:[]}):n.setState({value:c}),i&&i(l&&(l.name||l.id)||s,(0,a.default)(c))},this.size=function(e){return e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1024/1024).toFixed(2)+"MB":e<1099511627776?(e/1024/1024/1024).toFixed(2)+"GB":e+"B"}},n}},P4CO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(!((r*=1)<1))return t&&t.length>r?o=o||(a||n)+"不能超过"+r+"个字符":void 0}},SU3N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n("cDcd"))&&a.__esModule?a:{default:a};t.default=function(e){var t=e.time,n=new Date(parseInt(t)),a=n.getFullYear()+"-",o=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",i=n.getDate()+" ",l=n.getHours();l=l<10?"0"+l:l;var s=n.getMinutes();s=s<10?"0"+s:s;var u=n.getSeconds(),c=a+o+i+l+":"+s+":"+(u=u<10?"0"+u:u);return r.default.createElement("span",null,c)}},V61l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=((a=n("NbhV"))&&a.__esModule?a:{default:a}).default.div.withConfig({displayName:"ThumbView"})(["width:0.4rem;height:0.4rem;background:#108ee9;border-radius:0.4rem;text-align:center;line-height:0.4rem;color:#fff;font-size:0.16rem;"]);t.default=r},VHRy:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedUser_user_2AnWZ {\n  background: #fff;\n  line-height: 0.44rem;\n  margin: 0.1rem 0 0;\n  padding: 0.1rem 0.15rem;\n  display: flex;\n  align-items: center; }\n\n.ApprovedUser_username_3bBHc {\n  margin-left: 0.1rem;\n  font-size: 0.17rem;\n  line-height: 0.22rem; }\n\n.ApprovedUser_time_2bszb {\n  font-size: 0.14rem;\n  color: #666; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Notice/Components/ApprovedUser.scss"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,qBAAqB;EACrB,mBAAmB;EACnB,wBAAwB;EACxB,cAAc;EACd,oBAAoB,EAAE;;AAExB;EACE,oBAAoB;EACpB,mBAAmB;EACnB,qBAAqB,EAAE;;AAEzB;EACE,mBAAmB;EACnB,YAAY,EAAE",file:"ApprovedUser.scss",sourcesContent:[".user {\n  background: #fff;\n  line-height: 0.44rem;\n  margin: 0.1rem 0 0;\n  padding: 0.1rem 0.15rem;\n  display: flex;\n  align-items: center; }\n\n.username {\n  margin-left: 0.1rem;\n  font-size: 0.17rem;\n  line-height: 0.22rem; }\n\n.time {\n  font-size: 0.14rem;\n  color: #666; }\n"],sourceRoot:""}]),t.locals={user:"ApprovedUser_user_2AnWZ",username:"ApprovedUser_username_3bBHc",time:"ApprovedUser_time_2bszb"}},X7gU:function(e,t,n){var a=n("oRjK"),r=n("76z6");n("5uAZ")("keys",function(){return function(e){return r(a(e))}})},XeE4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n("sB3K")),r=f(n("9p3o")),o=f(n("P4CO")),i=f(n("mwpn")),l=f(n("EUqZ")),s=f(n("pwGg")),u=f(n("jfHX")),c=f(n("pbZe")),d=f(n("8AX4"));function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(e.rules){var n=e.rules.map(function(n){var f=(0,a.default)(n).filter(function(e){return"message"!==e}),p={value:t,name:e.name,title:e.title,ruleValue:n[f[0]],message:n.message},A=!1;switch(f[0]){case"required":A=(0,r.default)(p);break;case"max":A=(0,o.default)(p);break;case"min":A=(0,i.default)(p);break;case"chinese":A=(0,l.default)(p);break;case"english":A=(0,s.default)(p);break;case"number":A=(0,u.default)(p);break;case"ennum":A=(0,c.default)(p);break;case"cardno":A=(0,d.default)(p)}return A});if((n=n.filter(function(e){return!1!==e&&void 0!==e})).length>0)return n}}},ZmKr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthComponent=t.AuthHoc=void 0;var a=d(n("6F6v")),r=d(n("heMk")),o=d(n("G+8T")),i=d(n("p02J")),l=d(n("cLmd")),s=d(n("dAt5")),u=d(n("Fo7F")),c=d(n("cDcd"));function d(e){return e&&e.__esModule?e:{default:e}}n("rRcN");var f=function(e){var t=e.tip;return c.default.createElement("div",null,t||"对不起，你无权访问该模块")},p=t.AuthHoc=function(e,t){return function(n){return function(a){function d(){return(0,i.default)(this,d),(0,s.default)(this,(d.__proto__||(0,o.default)(d)).apply(this,arguments))}return(0,u.default)(d,a),(0,l.default)(d,[{key:"render",value:function(){return auto&&-1==auths.indexOf(e)?"object"==(void 0===t?"undefined":(0,r.default)(t))?t:c.default.createElement(f,{tip:t}):c.default.createElement(n,this.props)}}]),d}(n)}},A=function(e){var t=e.children,n=e.auth,r=e.show,o=void 0!==r&&r,i=(0,a.default)(e,["children","auth","show"]);return n&&-1==auths.indexOf(n)?o?c.default.createElement(f,i):null:t};t.AuthComponent=A,t.default={AuthHoc:p,AuthComponent:A}},aAWz:function(e,t,n){var a=n("820o");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},aKuF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a=n("XeE4"))&&a.__esModule?a:{default:a};t.default=function(e,t){var n=[];return e.map(function(e){return(0,r.default)(e,t[e.name])}).map(function(e){e&&(n=n.concat(e))}),n}},"d+J8":function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,'@charset "UTF-8";\n.NoticePublic_departments_Kez3h {\n  padding: 0.1rem 0.15rem 0.1rem;\n  position: relative;\n  background: #fff; }\n  .NoticePublic_departments_Kez3h:after {\n    content: "";\n    position: absolute;\n    background-color: #ddd;\n    display: block;\n    z-index: 1;\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 0.01rem;\n    -webkit-transform-origin: 50% 100%;\n    transform-origin: 50% 100%;\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5); }\n\n.NoticePublic_title_3Oxij {\n  color: #000;\n  text-align: left;\n  min-height: 0.44rem;\n  font-size: 0.17rem;\n  margin-left: 0;\n  margin-right: 0.05rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.NoticePublic_tip_1ffYg {\n  font-size: 0.12rem;\n  color: #999;\n  margin-left: 0.02rem; }\n\n.NoticePublic_steps_3fsGF {\n  display: inline-block;\n  text-align: center;\n  padding: 0.1rem; }\n\n.NoticePublic_userdetail_3GNp7,\n.NoticePublic_step_3Npul {\n  display: inline-block; }\n\n.NoticePublic_addBtn_1FMgK,\n.NoticePublic_avatar_juSLI,\n.NoticePublic_iconfont_1yk3j {\n  display: block;\n  width: 0.54rem;\n  height: 0.54rem;\n  font-size: 0.4rem;\n  border-radius: 0.54rem;\n  line-height: 0.54rem;\n  overflow: hidden;\n  background: #f2f2f2;\n  color: #ccc; }\n\n.NoticePublic_avatar_juSLI {\n  background: #108ee9;\n  font-size: 0.17rem;\n  color: #fff; }\n\n.NoticePublic_iconfont_1yk3j {\n  background: none;\n  font-size: 0.2rem;\n  width: 0.2rem;\n  margin-left: 0.05rem;\n  color: #ccc; }\n\n.NoticePublic_username_ZPC8W {\n  line-height: 0.22rem;\n  height: 0.22rem; }\n\n.NoticePublic_item_1oBlz:after {\n  content: "\\FF0C"; }\n\n.NoticePublic_item_1oBlz:last-child:after {\n  content: ""; }\n',"",{version:3,sources:["E:/www/webpack4/src/pages/Notice/NoticePublic.scss"],names:[],mappings:"AAAA,iBAAiB;AACjB;EACE,+BAA+B;EAC/B,mBAAmB;EACnB,iBAAiB,EAAE;EACnB;IACE,YAAY;IACZ,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;IACf,WAAW;IACX,UAAU;IACV,YAAY;IACZ,UAAU;IACV,QAAQ;IACR,YAAY;IACZ,gBAAgB;IAChB,mCAAmC;IACnC,2BAA2B;IAC3B,+BAA+B;IAC/B,uBAAuB,EAAE;;AAE7B;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;EACpB,mBAAmB;EACnB,eAAe;EACf,sBAAsB;EACtB,oBAAoB;EACpB,iBAAiB,EAAE;;AAErB;EACE,mBAAmB;EACnB,YAAY;EACZ,qBAAqB,EAAE;;AAEzB;EACE,sBAAsB;EACtB,mBAAmB;EACnB,gBAAgB,EAAE;;AAEpB;;EAEE,sBAAsB,EAAE;;AAE1B;;;EAGE,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,uBAAuB;EACvB,qBAAqB;EACrB,iBAAiB;EACjB,oBAAoB;EACpB,YAAY,EAAE;;AAEhB;EACE,oBAAoB;EACpB,mBAAmB;EACnB,YAAY,EAAE;;AAEhB;EACE,iBAAiB;EACjB,kBAAkB;EAClB,cAAc;EACd,qBAAqB;EACrB,YAAY,EAAE;;AAEhB;EACE,qBAAqB;EACrB,gBAAgB,EAAE;;AAEpB;EACE,iBAAa,EAAE;;AAEjB;EACE,YAAY,EAAE",file:"NoticePublic.scss",sourcesContent:['@charset "UTF-8";\n.departments {\n  padding: 0.1rem 0.15rem 0.1rem;\n  position: relative;\n  background: #fff; }\n  .departments:after {\n    content: "";\n    position: absolute;\n    background-color: #ddd;\n    display: block;\n    z-index: 1;\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 0.01rem;\n    -webkit-transform-origin: 50% 100%;\n    transform-origin: 50% 100%;\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5); }\n\n.title {\n  color: #000;\n  text-align: left;\n  min-height: 0.44rem;\n  font-size: 0.17rem;\n  margin-left: 0;\n  margin-right: 0.05rem;\n  white-space: nowrap;\n  overflow: hidden; }\n\n.tip {\n  font-size: 0.12rem;\n  color: #999;\n  margin-left: 0.02rem; }\n\n.steps {\n  display: inline-block;\n  text-align: center;\n  padding: 0.1rem; }\n\n.userdetail,\n.step {\n  display: inline-block; }\n\n.addBtn,\n.avatar,\n.iconfont {\n  display: block;\n  width: 0.54rem;\n  height: 0.54rem;\n  font-size: 0.4rem;\n  border-radius: 0.54rem;\n  line-height: 0.54rem;\n  overflow: hidden;\n  background: #f2f2f2;\n  color: #ccc; }\n\n.avatar {\n  background: #108ee9;\n  font-size: 0.17rem;\n  color: #fff; }\n\n.iconfont {\n  background: none;\n  font-size: 0.2rem;\n  width: 0.2rem;\n  margin-left: 0.05rem;\n  color: #ccc; }\n\n.username {\n  line-height: 0.22rem;\n  height: 0.22rem; }\n\n.item:after {\n  content: "，"; }\n\n.item:last-child:after {\n  content: ""; }\n'],sourceRoot:""}]),t.locals={departments:"NoticePublic_departments_Kez3h",title:"NoticePublic_title_3Oxij",tip:"NoticePublic_tip_1ffYg",steps:"NoticePublic_steps_3fsGF",userdetail:"NoticePublic_userdetail_3GNp7",step:"NoticePublic_step_3Npul",addBtn:"NoticePublic_addBtn_1FMgK",avatar:"NoticePublic_avatar_juSLI",iconfont:"NoticePublic_iconfont_1yk3j",username:"NoticePublic_username_ZPC8W",item:"NoticePublic_item_1oBlz"}},dpO0:function(e,t,n){var a=n("3Jyt");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},fbrY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i,l,s,u=N(n("pRfh")),c=N(n("clYf")),d=N(n("G+8T")),f=N(n("p02J")),p=N(n("cLmd")),A=N(n("dAt5")),m=N(n("Fo7F")),h=n("cDcd"),g=N(h),v=n("rRcN"),E=n("Lrpq"),B=N(n("7l6G")),_=N(n("gJnY")),C=N(n("APrv")),b=(N(n("SU3N")),N(n("FI4c"))),w=N(n("2Jj9")),y=N(n("fp/F")),k=N(n("V61l")),x=(n("ZmKr"),N(n("4ico")));function N(e){return e&&e.__esModule?e:{default:e}}var I=E.List.Item,S=I.Brief,z=(0,v.contextConsumers)(function(e){return{initialPage:e.getIn(["init","initialPageNotice"])}})((o=r=function(e){function t(){var e,n,a,r,o=this;(0,f.default)(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=a=(0,A.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(l))),a.state={counts:{}},a.handleChange=function(e,t){a.props.dispatch.setIn(["init","initialPageNotice"],t)},a.handleCount=function(e,t){var n=a.state.counts;n[e]=t,a.setState({counts:n})},a.handleSubmit=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push("/notice/public");case 1:case"end":return e.stop()}},e,o)})),r=n,(0,A.default)(a,r)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.props.initialPage,n=this.state.counts,a=[{title:g.default.createElement(E.Badge,{text:n[0]},"未读"),sub:"0",bulletinState:0},{title:"已读",sub:"1",bulletinState:1}];return g.default.createElement(B.default,null,g.default.createElement(E.NavBar,{mode:"light",icon:g.default.createElement(C.default,null),rightContent:g.default.createElement("span",{onClick:this.handleSubmit},"写公告")},"通知公告"),g.default.createElement(_.default,null,g.default.createElement(E.Tabs,{tabs:a,initialPage:t,onChange:this.handleChange},a&&a.map(function(n,a){return g.default.createElement(M,{key:n.bulletinState,index:n.bulletinState,cur:t,bulletinState:n.bulletinState,onCount:e.handleCount,history:e.props.history})}))))}}]),t}(h.Component),r.defaultProps={initialPage:0},a=o))||a;t.default=z;var M=(l=i=function(e){function t(e){(0,f.default)(this,t);var n=(0,A.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return s.call(n),n.state={data:[],loading:!0,page:1,hasNext:!0},n.loading=!1,n}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.handleinitReq(this.props,!0)}},{key:"componentDidUpdate",value:function(){this.handleinitReq(this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onClick,t.bulletinState),a=this.state,r=a.data,o=a.hasNext,i=a.loading;return g.default.createElement(y.default,{onScroll:this.handleScroll},g.default.createElement(E.List,null,r.length>0?r.map(function(t){return g.default.createElement(I,{key:t.id,arrow:"horizontal",className:x.default.Item,thumb:g.default.createElement(k.default,null,"通"),multipleLine:!0,onClick:e.handleRowClick.bind(null,t)},g.default.createElement("div",null,t.title),g.default.createElement(S,null,g.default.createElement("div",null,"发起时间：",t.releaseTime),g.default.createElement("div",{className:x.default.status},0==n?"未读":"已读")))}):g.default.createElement(I,null,g.default.createElement(w.default,null,"暂无数据"))),g.default.createElement("div",{ref:function(t){return e.load=t}}),o?!i&&g.default.createElement(b.default,{onClick:this.handleReq},"更多数据加载中..."):r.length>0&&g.default.createElement(b.default,null,"没有更多数据了"))}}]),t}(h.Component),i.defaultProps={pageSize:10},s=function(){var e,t=this;this.handleinitReq=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.cur;(e.index==a||n)&&t.handleReq(0,[],!0)},this.handleScroll=function(e){t.load.getBoundingClientRect().top<window.screen.height+100&&t.handleReq()},this.handleReq=(e=(0,c.default)(u.default.mark(function e(){var n,a,r,o,i,l,s,c,d,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.page,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.data,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.state.hasNext;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:if(m){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,n=t.props,a=n.index,r=n.pageSize,o=n.onCount,i=n.bulletinState,l={pageNo:p+=1,pageSize:r,userId:localStorage.userId,bulletinState:i},e.next=10,Request("bulletinInformation/getBulletinList",{params:l});case 10:(s=e.sent).success&&(c=s.data.page,d=c.list,f=c.count,A=A.concat(d),t.setState({data:A,page:p,loading:!1,count:f,hasNext:d.length>0&&d.length>r-1}),o&&o(a,f)),t.loading=!1;case 13:case"end":return e.stop()}},e,t)})),function(){return e.apply(this,arguments)}),this.handleRowClick=function(e){t.props.history.push("/notice/"+e.id)}},l)},"fp/F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("NbhV")),r=o(n("jpiG"));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,a.default)(r.default).withConfig({displayName:"LazyWarperView"})(["height:100%;width:100%;position:relative;overflow-y:auto;flex:1;"]);t.default=i},gKJJ:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".ApprovedContent_ApprovedContent_1W7m3 {\n  position: relative;\n  min-height: 1.1rem;\n  background: #fff;\n  margin: 0.1rem 0 0;\n  padding: 0 0.15rem; }\n\n.ApprovedContent_title_1Ma7w {\n  font-size: 0.16rem;\n  line-height: 0.22rem;\n  padding: 0.15rem 0 0.05rem;\n  border-bottom: 1px solid #eee; }\n\n.ApprovedContent_content_3naid {\n  padding: 0.15rem 0;\n  line-height: 0.22rem; }\n\n.ApprovedContent_workflowState_13YQA {\n  position: absolute;\n  top: 0;\n  right: 0.1rem;\n  width: 1rem;\n  height: 1rem;\n  font-size: 1rem;\n  color: #f00; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Notice/Components/ApprovedContent.scss"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,mBAAmB;EACnB,iBAAiB;EACjB,mBAAmB;EACnB,mBAAmB,EAAE;;AAEvB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,2BAA2B;EAC3B,8BAA8B,EAAE;;AAElC;EACE,mBAAmB;EACnB,qBAAqB,EAAE;;AAEzB;EACE,mBAAmB;EACnB,OAAO;EACP,cAAc;EACd,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,YAAY,EAAE",file:"ApprovedContent.scss",sourcesContent:[".ApprovedContent {\n  position: relative;\n  min-height: 1.1rem;\n  background: #fff;\n  margin: 0.1rem 0 0;\n  padding: 0 0.15rem; }\n\n.title {\n  font-size: 0.16rem;\n  line-height: 0.22rem;\n  padding: 0.15rem 0 0.05rem;\n  border-bottom: 1px solid #eee; }\n\n.content {\n  padding: 0.15rem 0;\n  line-height: 0.22rem; }\n\n.workflowState {\n  position: absolute;\n  top: 0;\n  right: 0.1rem;\n  width: 1rem;\n  height: 1rem;\n  font-size: 1rem;\n  color: #f00; }\n"],sourceRoot:""}]),t.locals={ApprovedContent:"ApprovedContent_ApprovedContent_1W7m3",title:"ApprovedContent_title_1Ma7w",content:"ApprovedContent_content_3naid",workflowState:"ApprovedContent_workflowState_13YQA"}},"hn/W":function(e,t,n){var a=n("d+J8");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},iPWq:function(e,t,n){var a=n("vqgW");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},jFVV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=C(n("KN1l")),r=C(n("pRfh")),o=C(n("Yo5m")),i=C(n("clYf")),l=C(n("G+8T")),s=C(n("p02J")),u=C(n("cLmd")),c=C(n("dAt5")),d=C(n("Fo7F")),f=n("cDcd"),p=C(f),A=n("Lrpq"),m=C(n("7l6G")),h=C(n("gJnY")),g=C(n("APrv")),v=C(n("vM7L")),E=C(n("rPIf")),B=C(n("aKuF")),_=(C(n("hn/W")),C(n("9BuM")));function C(e){return e&&e.__esModule?e:{default:e}}A.List.Item;var b=[{name:"title",rules:[{required:!0,message:"必须填写公告标题"}]},{name:"content",rules:[{required:!0,message:"必须填写公告内容"}]},{name:"approver",rules:[{required:!0,message:"必须选择审批人"}]},{name:"sendRangeList",rules:[{required:!0,message:"必须选择接收人"}]}],w={title:"审批人",id:"approver",name:"approver",step:!0,multiple:!1},y={title:"接收人",id:"sendRangeList",name:"sendRangeList"},k=function(e){function t(){var e,n,a,u,d=this;(0,s.default)(this,t);for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];return n=a=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(p))),a.state={data:{organization:localStorage.organizationId,publisherId:localStorage.userId,author:localStorage.userId,sendRangeList:[],approver:[],title:""}},a.handleChange=function(e,t){var n=a.state.data;n[e]=t,a.setState({data:n})},a.handleSubmit=(0,i.default)(r.default.mark(function e(){var t,n,i,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.data,!((n=(0,B.default)(b,t)).length>0)){e.next=4;break}return e.abrupt("return",A.Toast.info(n[0]));case 4:return i=(0,o.default)({},t),i=(0,_.default)(i),e.next=8,Request.post("bulletinInformation/addBulletin",i);case 8:l=e.sent,A.Toast.info(l.message),l.success&&window.history.back();case 11:case"end":return e.stop()}},e,d)})),u=n,(0,c.default)(a,u)}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.state.data;return p.default.createElement(m.default,null,p.default.createElement(A.NavBar,{mode:"light",icon:p.default.createElement(g.default,null),rightContent:p.default.createElement("span",{onClick:this.handleSubmit},"提交")},"发公告"),p.default.createElement(h.default,null,p.default.createElement(A.List,{renderHeader:function(){return"公告标题"}},p.default.createElement(A.InputItem,{clear:!0,defaultValue:t.title,onChange:function(t){return e.handleChange("title",t)}})),p.default.createElement(A.List,{renderHeader:function(){return"公告内容"}},p.default.createElement(v.default,{onChange:this.handleChange,value:t.content})),p.default.createElement("div",{style:{fontSize:"12px",color:"#666",lineHeight:"18px",padding:"5px 15px 10px"}},"公告内容目前移动版只支持简单的文字编辑，如要插入图片等复杂操作，请使用PC版"),p.default.createElement(E.default,(0,a.default)({},w,{value:t.approver,onChange:this.handleChange})),p.default.createElement(E.default,(0,a.default)({},y,{value:t.sendRangeList,onChange:this.handleChange}))))}}]),t}(f.Component);t.default=k},jWZp:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Footer_footer_1gq9d {\n  display: flex;\n  line-height: 0.46rem;\n  height: 0.46rem;\n  border-top: 1px solid #ccc; }\n\n.Footer_action_1YU6z {\n  flex: 1;\n  text-align: center;\n  color: #108ee9;\n  font-size: 0.18rem; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Notice/Components/Footer.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,qBAAqB;EACrB,gBAAgB;EAChB,2BAA2B,EAAE;;AAE/B;EACE,QAAQ;EACR,mBAAmB;EACnB,eAAe;EACf,mBAAmB,EAAE",file:"Footer.scss",sourcesContent:[".footer {\n  display: flex;\n  line-height: 0.46rem;\n  height: 0.46rem;\n  border-top: 1px solid #ccc; }\n\n.action {\n  flex: 1;\n  text-align: center;\n  color: #108ee9;\n  font-size: 0.18rem; }\n"],sourceRoot:""}]),t.locals={footer:"Footer_footer_1gq9d",action:"Footer_action_1YU6z"}},jfHX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(r)return t&&""!=t&&!/^[0-9]+$/.test(t)?o=o||(a||n)+"只能输入数字":void 0}},jpiG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,o=f(n("G+8T")),i=f(n("p02J")),l=f(n("cLmd")),s=f(n("dAt5")),u=f(n("Fo7F")),c=n("cDcd"),d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=(r=a=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleScroll=function(){var e=new Date;if(!(n.startTime&&e-n.startTime<n.props.delaytime)){n.startTime=e;var t={scrollTop:n.lazyWarper.scrollTop,warperHeight:n.lazyWarper.getBoundingClientRect().height};n.props.onScroll&&n.props.onScroll(t)}},n.handleTouchStart=function(e){var t=e.touches[0]||e;n._startX=t.pageX,n._startY=t.pageY},n.handleTouchMove=function(e){var t=e.touches[0]||e,a=t.pageX-n._startX,r=t.pageY-n._startY;0==n.moveXY&&(Math.abs(a)>Math.abs(r)?n.moveXY=1:n.moveXY=2),1==n.moveXY?n.lazyWarper.style.overflowY="hidden":e.stopPropagation()},n.handleTouchEnd=function(e){n.lazyWarper.style.overflowY="auto",n.moveXY=0},n.startTime=null,n.moveXY=0,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.scrollTop&&(this.lazyWarper.scrollTop=this.props.scrollTop,this.handleScroll())}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{ref:function(t){return e.lazyWarper=t},onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onScroll:this.handleScroll,style:this.props.style,className:this.props.className},this.props.children)}}]),t}(c.Component),a.defaultProps={delaytime:20,scrollTop:0},r);t.default=p},l8sP:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".SelectUserCpt_steps_3WiGr {\n  padding: 0.1rem;\n  background: #fff; }\n\n.SelectUserCpt_addBtn_1aRGR,\n.SelectUserCpt_avatar_3-xDo {\n  display: inline-block;\n  width: 0.54rem;\n  height: 0.54rem;\n  font-size: 0.4rem;\n  border-radius: 0.54rem;\n  line-height: 0.54rem;\n  overflow: hidden;\n  background: #f2f2f2;\n  color: #ccc;\n  text-align: center;\n  margin: 0.04rem; }\n\n.SelectUserCpt_avatar_3-xDo {\n  background: #108ee9;\n  font-size: 0.16rem;\n  color: #fff; }\n\n.SelectUserCpt_iconfont_1j6Yu {\n  line-height: 0.54rem;\n  font-size: 0.2rem;\n  width: 0.2rem;\n  color: #ccc;\n  display: inline-block;\n  height: 0.54rem;\n  overflow: hidden;\n  text-align: center;\n  margin: 0.05rem 0; }\n","",{version:3,sources:["E:/www/webpack4/src/Libs/Components/FormTable/SelectUserCpt.scss"],names:[],mappings:"AAAA;EACE,gBAAgB;EAChB,iBAAiB,EAAE;;AAErB;;EAEE,sBAAsB;EACtB,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,uBAAuB;EACvB,qBAAqB;EACrB,iBAAiB;EACjB,oBAAoB;EACpB,YAAY;EACZ,mBAAmB;EACnB,gBAAgB,EAAE;;AAEpB;EACE,oBAAoB;EACpB,mBAAmB;EACnB,YAAY,EAAE;;AAEhB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,cAAc;EACd,YAAY;EACZ,sBAAsB;EACtB,gBAAgB;EAChB,iBAAiB;EACjB,mBAAmB;EACnB,kBAAkB,EAAE",file:"SelectUserCpt.scss",sourcesContent:[".steps {\n  padding: 0.1rem;\n  background: #fff; }\n\n.addBtn,\n.avatar {\n  display: inline-block;\n  width: 0.54rem;\n  height: 0.54rem;\n  font-size: 0.4rem;\n  border-radius: 0.54rem;\n  line-height: 0.54rem;\n  overflow: hidden;\n  background: #f2f2f2;\n  color: #ccc;\n  text-align: center;\n  margin: 0.04rem; }\n\n.avatar {\n  background: #108ee9;\n  font-size: 0.16rem;\n  color: #fff; }\n\n.iconfont {\n  line-height: 0.54rem;\n  font-size: 0.2rem;\n  width: 0.2rem;\n  color: #ccc;\n  display: inline-block;\n  height: 0.54rem;\n  overflow: hidden;\n  text-align: center;\n  margin: 0.05rem 0; }\n"],sourceRoot:""}]),t.locals={steps:"SelectUserCpt_steps_3WiGr",addBtn:"SelectUserCpt_addBtn_1aRGR",avatar:"SelectUserCpt_avatar_3-xDo",iconfont:"SelectUserCpt_iconfont_1j6Yu"}},lCXb:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".Notice_Lazy_3kdhM {\n  display: flex;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  flex-direction: column; }\n\n.Notice_LazyWarper_3CAvK {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow-y: auto;\n  flex: 1; }\n\n.Notice_Item_2lrMi .am-list-thumb {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n\n.Notice_noItem_3TWzA {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 1rem;\n  color: #666; }\n\n.Notice_thumb_1hRon {\n  width: 0.4rem;\n  height: 0.4rem;\n  background: #108ee9;\n  border-radius: 0.4rem;\n  text-align: center;\n  line-height: 0.4rem;\n  color: #fff;\n  font-size: 0.16rem; }\n\n.Notice_status_u0GOR {\n  color: #f00; }\n\n.Notice_statusAgree_1Q3F0 {\n  color: green; }\n\n.Notice_loadmore_1rBxh {\n  text-align: center;\n  line-height: 0.44rem;\n  color: #666; }\n\n.Notice_ydbtn_IZlS9 {\n  text-align: center;\n  line-height: 0.44rem;\n  height: 0.44rem;\n  min-height: 0.44rem;\n  position: relative;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #fff;\n  font-size: 0.16rem;\n  color: #108ee9; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Notice/Notice.scss"],names:[],mappings:"AAAA;EACE,cAAc;EACd,mBAAmB;EACnB,aAAa;EACb,YAAY;EACZ,uBAAuB,EAAE;;AAE3B;EACE,aAAa;EACb,YAAY;EACZ,mBAAmB;EACnB,iBAAiB;EACjB,QAAQ,EAAE;;AAEZ;EACE,2BAA2B;EAC3B,qBAAqB,EAAE;;AAEzB;EACE,cAAc;EACd,oBAAoB;EACpB,wBAAwB;EACxB,aAAa;EACb,YAAY,EAAE;;AAEhB;EACE,cAAc;EACd,eAAe;EACf,oBAAoB;EACpB,sBAAsB;EACtB,mBAAmB;EACnB,oBAAoB;EACpB,YAAY;EACZ,mBAAmB,EAAE;;AAEvB;EACE,YAAY,EAAE;;AAEhB;EACE,aAAa,EAAE;;AAEjB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,YAAY,EAAE;;AAEhB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,UAAU;EACV,QAAQ;EACR,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;EACnB,eAAe,EAAE",file:"Notice.scss",sourcesContent:[".Lazy {\n  display: flex;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  flex-direction: column; }\n\n.LazyWarper {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow-y: auto;\n  flex: 1; }\n\n.Item :global(.am-list-thumb) {\n  margin-right: 0 !important;\n  margin-left: 0.15rem; }\n\n.noItem {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 1rem;\n  color: #666; }\n\n.thumb {\n  width: 0.4rem;\n  height: 0.4rem;\n  background: #108ee9;\n  border-radius: 0.4rem;\n  text-align: center;\n  line-height: 0.4rem;\n  color: #fff;\n  font-size: 0.16rem; }\n\n.status {\n  color: #f00; }\n\n.statusAgree {\n  color: green; }\n\n.loadmore {\n  text-align: center;\n  line-height: 0.44rem;\n  color: #666; }\n\n.ydbtn {\n  text-align: center;\n  line-height: 0.44rem;\n  height: 0.44rem;\n  min-height: 0.44rem;\n  position: relative;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #fff;\n  font-size: 0.16rem;\n  color: #108ee9; }\n"],sourceRoot:""}]),t.locals={Lazy:"Notice_Lazy_3kdhM",LazyWarper:"Notice_LazyWarper_3CAvK",Item:"Notice_Item_2lrMi",noItem:"Notice_noItem_3TWzA",thumb:"Notice_thumb_1hRon",status:"Notice_status_u0GOR",statusAgree:"Notice_statusAgree_1Q3F0",loadmore:"Notice_loadmore_1rBxh",ydbtn:"Notice_ydbtn_IZlS9"}},lN5I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=f(n("G+8T")),o=f(n("p02J")),i=f(n("cLmd")),l=f(n("dAt5")),s=f(n("Fo7F")),u=n("cDcd"),c=f(u),d=f(n("dpO0"));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,f(n("K4PL")).default)(a=function(e){function t(){var e,n,a,i;(0,o.default)(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(u))),a.handleFileChange=function(e){var t=a.props.onFileChange;t&&t(e),a.inputfile.value=""},i=n,(0,l.default)(a,i)}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:d.default.uploadbtn},"上传图片",c.default.createElement("input",{ref:function(t){return e.inputfile=t},className:d.default.btn,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",multiple:!0,onChange:this.handleFileChange}))}}]),t}(u.Component))||a;t.default=p},mwpn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(!((r*=1)<1))return!t||t.length<r?o=o||(a||n)+"不能少于"+r+"个字符":void 0}},oSN1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n("cDcd")),r=n("8LOv"),o=u(n("u6xp")),i=u(n("jFVV")),l=u(n("sE70")),s=u(n("fbrY"));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.location,n=e.match;return a.default.createElement(r.Switch,{location:t},a.default.createElement(r.Route,{path:n.url+"/approved/:id",component:o.default}),a.default.createElement(r.Route,{path:n.url+"/public",component:i.default}),a.default.createElement(r.Route,{path:n.url+"/:id",component:l.default}),a.default.createElement(r.Route,{path:n.url+"/",exact:!0,component:s.default}))}},pbZe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(r)return t&&""!=t&&!/^[0-9a-zA-Z]*$/.test(t)?o=o||(a||n)+"只能输入字母或者数字":void 0}},pwGg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.name,a=e.title,r=e.ruleValue,o=e.message;if(r)return t&&""!=t&&!/^[a-zA-Z]*$/.test(t)?o=o||(a||n)+"必须输入英文字母":void 0}},rPIf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o,i=B(n("G+8T")),l=B(n("p02J")),s=B(n("cLmd")),u=B(n("dAt5")),c=B(n("Fo7F")),d=n("cDcd"),f=B(d),p=n("8LOv"),A=n("Lrpq"),m=B(n("APrv")),h=B(n("fqwA")),g=B(n("v3FK")),v=n("rRcN"),E=B(n("Tfgt"));function B(e){return e&&e.__esModule?e:{default:e}}A.List.Item;var _=(0,v.contextConsumers)(function(e){return{query:e.query,userlists:e.getIn(["userList",localStorage.organizationId])}})(a=(0,p.withRouter)((o=r=function(e){function t(){var e,n,a,r;(0,l.default)(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=a=(0,u.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),a.handleShowOrgCpt=function(){var e=a.props,t=e.match,n=e.history,r=e.name;n.push(t.url+"?"+r+"=true")},a.handleUserListClick=function(e){console.log(e);var t=a.props,n=t.name,r=t.value,o=t.onChange;if(t.single)return o(n,[e.userId]),void window.history.back();var i=r.length;if(i>0&&r[i-1]==e.userId)return A.Toast.info("该人员与前一人员是同一人");r.push(e.userId),o(n,r),window.history.back()},a.handleSelect=function(e){var t=a.props,n=t.name;(0,t.onChange)(n,e),window.history.back()},a.handleDelItem=function(e){var t=a.props,n=t.name,r=t.value,o=t.onChange,i=e.target.dataset.index;r.splice(i,1),o(n,r)},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.userlists||this.props.dispatch.callBack(E.default)}},{key:"render",value:function(){var e=this,t=this.props,n=t.query,a=t.userlists,r=void 0===a?$arr:a,o=t.title,i=t.name,l=t.value,s=void 0===l?[]:l,u=t.single,c=t.multiple,d=t.step;c=!u&&c;var p=s.map(function(e){return r.find(function(t){return t.userId==e})});return f.default.createElement(A.List,{renderHeader:function(){return o}},f.default.createElement("div",{className:g.default.steps},p.map(function(t,n){return[f.default.createElement("div",{key:n,className:g.default.avatar,"data-index":n,onClick:e.handleDelItem},t.personname),d&&f.default.createElement(C,null)]}),f.default.createElement("div",{className:g.default.addBtn,onClick:this.handleShowOrgCpt},"+")),n[i]&&f.default.createElement(b,{selectedKeys:s,multiple:c,onClickUser:this.handleUserListClick,onSelect:this.handleSelect}))}}]),t}(d.Component),r.defaultProps={step:!1,single:!1,multiple:!0},a=o))||a)||a;t.default=_;var C=function(){return f.default.createElement("div",{className:g.default.iconfont},f.default.createElement("i",{className:"iconfont icon-iconfontjiantou "}))},b=function(e){var t=e.onClickUser,n=e.onSelect,a=e.multiple,r=e.selectedKeys;return f.default.createElement(h.default,{onClickUser:t,selectedKeys:r,multiple:a},function(e,t){return f.default.createElement(A.NavBar,{mode:"light",icon:f.default.createElement(m.default,null),rightContent:f.default.createElement("div",{onClick:function(){return n(e,t)}},"确定")},"选择人员")})}},sB3K:function(e,t,n){e.exports={default:n("8MpB"),__esModule:!0}},sE70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n("pRfh")),r=g(n("clYf")),o=g(n("G+8T")),i=g(n("p02J")),l=g(n("cLmd")),s=g(n("dAt5")),u=g(n("Fo7F")),c=n("cDcd"),d=g(c),f=n("Lrpq"),p=g(n("7l6G")),A=g(n("gJnY")),m=g(n("APrv")),h=g(n("iPWq"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e,n,l,u,c=this;(0,i.default)(this,t);for(var d=arguments.length,p=Array(d),A=0;A<d;A++)p[A]=arguments[A];return n=l=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(p))),l.state={data:{}},l.reqData=(0,r.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.props.match,n="bulletinInformation/getOneBulletin",f.Toast.loading("数据加载中，请稍后...",0),e.next=5,Request(n,{params:{userId:localStorage.userId,bulletinId:t.params.id,orgId:localStorage.organizationId}});case 5:!0===(r=e.sent).success?(console.log(r),f.Toast.hide(),l.setState({data:r.data.bul})):f.Toast.fail(r.message);case 7:case"end":return e.stop()}},e,c)})),u=n,(0,s.default)(l,u)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.reqData()}},{key:"render",value:function(){var e=this.state.data;return d.default.createElement(p.default,null,d.default.createElement(f.NavBar,{mode:"light",icon:d.default.createElement(m.default,null)},"通知公告"),d.default.createElement(A.default,{style:{padding:"15px",background:"#fff",borderTop:"1px solid #ccc"}},d.default.createElement("div",{className:h.default.titles},d.default.createElement("div",{className:h.default.title},e.title),d.default.createElement("div",{className:h.default.time},d.default.createElement("span",null,e.releaseTime)),d.default.createElement("div",{className:h.default.time},d.default.createElement("span",{className:h.default.read},e.isRead,"人已读"),d.default.createElement("span",{className:h.default.read},e.unRead,"人未读"))),d.default.createElement("div",{className:h.default.content,dangerouslySetInnerHTML:{__html:e.content}})))}}]),t}(c.Component);t.default=v},tCrX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n("G+8T")),r=f(n("p02J")),o=f(n("cLmd")),i=f(n("dAt5")),l=f(n("Fo7F")),s=n("cDcd"),u=f(s),c=f(n("v2wj")),d=f(n("Bnhv"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.bul;return u.default.createElement("div",{className:d.default.user},u.default.createElement(c.default,null,e.publisherName),u.default.createElement("div",{className:d.default.username},u.default.createElement("div",null,e.publisherName),u.default.createElement("div",{className:d.default.time},e.writeTime)))}}]),t}(s.Component);t.default=p},u6xp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=b(n("pRfh")),o=b(n("clYf")),i=b(n("G+8T")),l=b(n("p02J")),s=b(n("cLmd")),u=b(n("dAt5")),c=b(n("Fo7F")),d=n("cDcd"),f=b(d),p=n("8LOv"),A=n("rRcN"),m=n("Lrpq"),h=b(n("7l6G")),g=b(n("gJnY")),v=(b(n("1w8a")),b(n("EuHC"))),E=b(n("+OKP")),B=b(n("tCrX")),_=b(n("B49r")),C=b(n("4MwV"));function b(e){return e&&e.__esModule?e:{default:e}}var w=(0,A.contextConsumers)(function(e){return{ApprovedDetailReolad:e.getIn(["init","ApprovedDetailReolad"])||!1}})(a=function(e){function t(e){var n=this;(0,l.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.reqData=(0,o.default)(r.default.mark(function e(){var t,o,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match,o="bulletinInformation/getOneBulletin",m.Toast.loading("数据加载中，请稍后...",0),e.next=5,Request(o,{params:{userId:localStorage.userId,bulletinId:t.params.id,orgId:localStorage.organizationId}});case 5:!0===(i=e.sent).success?(console.log(i),m.Toast.hide(),a.setState({detail:i.data})):m.Toast.fail(i.message);case 7:case"end":return e.stop()}},e,n)})),a.state={detail:{}},a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){this.reqData()}},{key:"componentWillReceiveProps",value:function(e){e.ApprovedDetailReolad&&this.reqData()}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.match,a=this.state.detail,r=a.workflowVo,o=a.bul,i=r&&r.workflowState;return f.default.createElement(h.default,null,f.default.createElement(m.NavBar,{mode:"light",icon:f.default.createElement(m.Icon,{type:"left",size:"lg"}),onLeftClick:function(){return window.history.back()}},"公告审批"),f.default.createElement(g.default,null,o&&f.default.createElement(B.default,{bul:o}),o&&f.default.createElement(v.default,{content:o,workflowState:i}),r&&f.default.createElement(E.default,{workflowVo:r,bul:o})),r&&f.default.createElement(_.default,{workflowVo:r,bul:o}),f.default.createElement(p.Switch,{location:t},f.default.createElement(p.Route,{path:n.url+"/attitude",exact:!0,component:C.default})))}}]),t}(d.Component))||a;t.default=w},uB8n:function(e,t,n){e.exports={default:n("AEAa"),__esModule:!0}},v3FK:function(e,t,n){var a=n("l8sP");"string"==typeof a&&(a=[[e.i,a,""]]);n("DkTI")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},vM7L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(n("G+8T")),r=d(n("p02J")),o=d(n("cLmd")),i=d(n("dAt5")),l=d(n("Fo7F")),s=n("cDcd"),u=d(s),c=d(n("dpO0"));function d(e){return e&&e.__esModule?e:{default:e}}d(n("lN5I"));var f=function(e){function t(){(0,r.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.initInnerHtml=function(){var t=e.props.value;t&&(e.texta.innerHTML=t)},e.handleChange=function(t){e.setState({data:t.target.innerHTML});var n=e.props.onChange;n&&n("content",t.target.innerHTML)},e.lastEditRange=0,e.state={data:""},e}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.initInnerHtml()}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:c.default.texta,ref:function(t){return e.texta=t},onClick:this.handleSelection,onInput:this.handleChange,contentEditable:"true"})}}]),t}(s.Component);t.default=f},vqgW:function(e,t,n){(t=e.exports=n("3G5m")(!0)).push([e.i,".NoticeDetail_titles_2TcfX {\n  border-bottom: 1px solid #f1f1f1;\n  padding: 0 0 0.1rem; }\n\n.NoticeDetail_title_14LdM {\n  font-size: 0.16rem;\n  line-height: 0.24rem;\n  padding: 0.05rem 0; }\n\n.NoticeDetail_time_2uQjy {\n  color: #999;\n  line-height: 0.22rem; }\n\n.NoticeDetail_read_1RpzO {\n  color: #1890ff;\n  margin-right: 0.05rem; }\n\n.NoticeDetail_content_2fvOu {\n  padding: 0.15rem 0;\n  font-size: 0.15rem;\n  line-height: 0.24rem;\n  color: #3a3a3a;\n  text-indent: 2em; }\n","",{version:3,sources:["E:/www/webpack4/src/pages/Notice/NoticeDetail.scss"],names:[],mappings:"AAAA;EACE,iCAAiC;EACjC,oBAAoB,EAAE;;AAExB;EACE,mBAAmB;EACnB,qBAAqB;EACrB,mBAAmB,EAAE;;AAEvB;EACE,YAAY;EACZ,qBAAqB,EAAE;;AAEzB;EACE,eAAe;EACf,sBAAsB,EAAE;;AAE1B;EACE,mBAAmB;EACnB,mBAAmB;EACnB,qBAAqB;EACrB,eAAe;EACf,iBAAiB,EAAE",file:"NoticeDetail.scss",sourcesContent:[".titles {\n  border-bottom: 1px solid #f1f1f1;\n  padding: 0 0 0.1rem; }\n\n.title {\n  font-size: 0.16rem;\n  line-height: 0.24rem;\n  padding: 0.05rem 0; }\n\n.time {\n  color: #999;\n  line-height: 0.22rem; }\n\n.read {\n  color: #1890ff;\n  margin-right: 0.05rem; }\n\n.content {\n  padding: 0.15rem 0;\n  font-size: 0.15rem;\n  line-height: 0.24rem;\n  color: #3a3a3a;\n  text-indent: 2em; }\n"],sourceRoot:""}]),t.locals={titles:"NoticeDetail_titles_2TcfX",title:"NoticeDetail_title_14LdM",time:"NoticeDetail_time_2uQjy",read:"NoticeDetail_read_1RpzO",content:"NoticeDetail_content_2fvOu"}}}]);